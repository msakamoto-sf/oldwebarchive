<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>C言語系/呼び出し規約/x86/pascal - Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</title>
<!-- favicon 2017's reference:
https://developers.google.com/web/fundamentals/design-and-ui/browser-customization/
https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx
https://developer.chrome.com/multidevice/android/installtohomescreen
https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html
-->
<link rel="shortcut icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="apple-touch-icon" sizes="57x57" href="../favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="../favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="../favicons/favicon-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-160x160.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-196x196.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../favicons/favicon-32x32.png" sizes="32x32">

<!-- browserconfig.xml : https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx -->
<meta name="msapplication-TileColor" content="#990000">
<meta name="msapplication-TileImage" content="../favicons/mstile-144x144.png">

<!-- these favicon files were generated by https://ao-system.net/favicongenerator/ , thanks!!(2017-02-18) -->

<style type="text/css"></style>

<link href="./css/pcbrowser.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_plugins.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_wiki.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/print.css" rel="stylesheet" type="text/css" media="print"/>
</head>
<body>
<!-- body start -->
<div class="body">
<div style="display: inline"><a name="pagetop"></a></div>
<div id="header-wrap">
<img src="./images/logo1.jpg" style="float: left; margin-right: 1em;"/>
<a href="./index.html" title="Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)"><img src="./icons/home.png" alt="home"/>&nbsp;Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</a>


<h1 style="margin-bottom: 10px;">C言語系/呼び出し規約/x86/pascal</h1>

<div style="clear: both;"></div>
</div><!-- //header-wrap -->

<!-- content-wrap start -->
<div id="content-wrap"><div class="contents_s">

<!-- data_main -->
<div class="data_main">

<div class="data_attrs_pre">
作成日: 2010-03-17 10:32:44 &nbsp; / &nbsp; last updated at: 2010-03-19 17:17:18<br>
カテゴリ: <a href="category-48.html">Assembler</a>&nbsp;<a href="category-10.html">C言語</a>&nbsp;<a href="category-38.html">UNIX</a>&nbsp;<a href="category-8.html">Windows</a>&nbsp;</div>

<div class="data_body">
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-622.html" title="C言語系/呼び出し規約/x86/naked">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-624.html" title="C言語系/呼び出し規約/x86/register">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-478.html" title="C言語系">C言語系</a>&nbsp;]</li>
</ul>
<hr class="full_hr" />

<p class="paragraph">
<strong>__pascal</strong>呼び出し規約：
<br />
</p>
<ul><li> 引数はスタック上にPUSHする。(主に<strong>左から右</strong>へPUSH)</li>
<li><strong>関数(callee)側でスタックをクリーンアップする。</strong><ul><li> アセンブラレベルでは<strong>RET imm16</strong>命令を使って、戻る時にスタックポインタを&quot;imm16&quot;バイト分だけ戻す。つまり、&quot;imm16&quot;バイト分だけSPが増える(x86ではスタックはアドレスの小さい方へ進んでいくので、「戻る」＝SPのアドレス値は大きくなる)。</li></ul></li></ul>



<hr />
<ul><li><a href="#id587c13">サンプルコード</a><ul><li><a href="#id4acfcd">callee.c (呼ばれる関数側)</a></li>
<li><a href="#idfc9962">caller.c (呼ぶ main() 側)</a></li></ul></li>
<li><a href="#id92f281">VC++2008 Express Edtion (obsoleted)</a></li>
<li><a href="#idd23ba6">Borland C++ Compiler</a><ul><li><a href="#id8f7907">callee.c のアセンブラ出力(callee.asm)</a></li>
<li><a href="#id289412">caller.cのアセンブラ出力(caller.asm)</a></li></ul></li>
<li><a href="#id7a80e1">OpenWatcom Compiler(16bit)</a><ul><li><a href="#id8f7907">callee.c のアセンブラ出力(callee.asm)</a></li>
<li><a href="#id511925">caller.c のアセンブラ出力(caller.asm)</a></li></ul></li>
<li><a href="#idbc83bc">OpenWatcom Compiler(32bit)</a><ul><li><a href="#id8f7907">callee.c のアセンブラ出力(callee.asm)</a></li>
<li><a href="#id511925">caller.c のアセンブラ出力(caller.asm)</a></li></ul></li>
<li><a href="#id89ff71">Turbo C++ 4.0J(TC4J)</a><ul><li><a href="#id8f7907">callee.c のアセンブラ出力(callee.asm)</a></li>
<li><a href="#id511925">caller.c のアセンブラ出力(caller.asm)</a></li></ul></li></ul>
<hr />
<h3 id="id587c13">サンプルコード</h3>

<h4 id="id4acfcd">callee.c (呼ばれる関数側)</h4>
<div class="hl-main"><pre><span >int</span><span class="hl-code"> </span><span class="hl-identifier">foo1</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code"> * </span><span class="hl-number">2</span><span class="hl-code">; </span><span class="hl-brackets">}</span><span class="hl-code">
</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">foo2</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">b</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code"> + </span><span class="hl-identifier">b</span><span class="hl-code">; </span><span class="hl-brackets">}</span><span class="hl-code">
</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">foo3</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">b</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">c</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code"> + </span><span class="hl-identifier">b</span><span class="hl-code"> + </span><span class="hl-identifier">c</span><span class="hl-code">; </span><span class="hl-brackets">}</span><span class="hl-code">
</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">foo4</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">b</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">c</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code"> + </span><span class="hl-identifier">b</span><span class="hl-code"> + </span><span class="hl-identifier">c</span><span class="hl-code"> + </span><span class="hl-identifier">d</span><span class="hl-code">; </span><span class="hl-brackets">}</span></pre></div>

<h4 id="idfc9962">caller.c (呼ぶ main() 側)</h4>
<div class="hl-main"><pre><span >#include</span><span > </span><span class="hl-quotes">&lt;</span><span class="hl-string">stdio.h</span><span class="hl-quotes">&gt;</span><span ></span><span class="hl-code">
 
</span><span >extern</span><span class="hl-code"> </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">foo1</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span >extern</span><span class="hl-code"> </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">foo2</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">b</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span >extern</span><span class="hl-code"> </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">foo3</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">b</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">c</span><span class="hl-brackets">)</span><span class="hl-code">;
</span><span >extern</span><span class="hl-code"> </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">foo4</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">b</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">c</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">d</span><span class="hl-brackets">)</span><span class="hl-code">;
 
</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">__cdecl</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">argc</span><span class="hl-code">, </span><span >char</span><span class="hl-code"> *</span><span class="hl-identifier">argv</span><span class="hl-brackets">[</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code">
    </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">foo1() = %d</span><span class="hl-special">\</span><span class="hl-string">n</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">foo1</span><span class="hl-brackets">(</span><span class="hl-number">10</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">foo2() = %d</span><span class="hl-special">\</span><span class="hl-string">n</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">foo2</span><span class="hl-brackets">(</span><span class="hl-number">10</span><span class="hl-code">, </span><span class="hl-number">20</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">foo3() = %d</span><span class="hl-special">\</span><span class="hl-string">n</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">foo3</span><span class="hl-brackets">(</span><span class="hl-number">10</span><span class="hl-code">, </span><span class="hl-number">20</span><span class="hl-code">, </span><span class="hl-number">30</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">foo4() = %d</span><span class="hl-special">\</span><span class="hl-string">n</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">foo4</span><span class="hl-brackets">(</span><span class="hl-number">10</span><span class="hl-code">, </span><span class="hl-number">20</span><span class="hl-code">, </span><span class="hl-number">30</span><span class="hl-code">, </span><span class="hl-number">40</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-number">0</span><span class="hl-code">;
</span><span class="hl-brackets">}</span></pre></div>

<h3 id="id92f281">VC++2008 Express Edtion (obsoleted)</h3>

<p class="paragraph">
2010年現在、VC++2008では &quot;__pascal&quot; 呼び出し規約はサポートされていない。(obsoleted)
<br />
</p>
<ul><li> Obsolete Calling Conventions (C++)<ul><li> <a class="externallink" href="http://msdn.microsoft.com/ja-jp/library/wda6h6df%28VS.80%29.aspx" target="_blank">http://msdn.microsoft.com/ja-jp/library/wda6h6df%28VS.80%29.aspx</a></li></ul></li></ul>

<p class="paragraph">
実際に次のようなコード(pascal.c)をコンパイルしようとすると、関数宣言のところでエラーになり、コンパイルに失敗する。
<br />
</p>
<div class="hl-main"><pre><span >#include</span><span > </span><span class="hl-quotes">&lt;</span><span class="hl-string">stdio.h</span><span class="hl-quotes">&gt;</span><span ></span><span class="hl-code">
 
</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">__pascal</span><span class="hl-code"> </span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">b</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">c</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">d</span><span class="hl-code">, </span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">e</span><span class="hl-brackets">)</span><span class="hl-code">
</span><span class="hl-brackets">{</span><span class="hl-code"> </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-identifier">a</span><span class="hl-code"> + </span><span class="hl-identifier">b</span><span class="hl-code"> + </span><span class="hl-identifier">c</span><span class="hl-code"> + </span><span class="hl-identifier">d</span><span class="hl-code"> + </span><span class="hl-identifier">e</span><span class="hl-code">; </span><span class="hl-brackets">}</span><span class="hl-code">
 
</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">main</span><span class="hl-brackets">(</span><span >int</span><span class="hl-code"> </span><span class="hl-identifier">argc</span><span class="hl-code">, </span><span >char</span><span class="hl-code"> *</span><span class="hl-identifier">argv</span><span class="hl-brackets">[</span><span class="hl-brackets">]</span><span class="hl-brackets">)</span><span class="hl-code"> </span><span class="hl-brackets">{</span><span class="hl-code">
    </span><span class="hl-identifier">printf</span><span class="hl-brackets">(</span><span class="hl-quotes">&quot;</span><span class="hl-string">foo() = %d</span><span class="hl-special">\</span><span class="hl-string">n</span><span class="hl-quotes">&quot;</span><span class="hl-code">, </span><span class="hl-identifier">foo</span><span class="hl-brackets">(</span><span class="hl-number">10</span><span class="hl-code">, </span><span class="hl-number">20</span><span class="hl-code">, </span><span class="hl-number">30</span><span class="hl-code">, </span><span class="hl-number">40</span><span class="hl-code">, </span><span class="hl-number">50</span><span class="hl-brackets">)</span><span class="hl-brackets">)</span><span class="hl-code">;
    </span><span class="hl-reserved">return</span><span class="hl-code"> </span><span class="hl-number">0</span><span class="hl-code">;
</span><span class="hl-brackets">}</span></pre></div>

<p class="paragraph">
コンパイル→エラー、失敗：
<br />
</p>
<pre class="plugin_pre">
&gt; cl /TC /Od /nologo /c pascal.c
pascal.c
pascal.c(3) : error C2061: 構文エラー : 識別子 &#039;foo&#039;
pascal.c(3) : error C2059: 構文エラー : &#039;;&#039;
pascal.c(3) : error C2059: 構文エラー : &#039;型&#039;
</pre>

<h3 id="idd23ba6">Borland C++ Compiler</h3>

<dl>
<dt> 指定方法 </dt>
<dd>
<pre>int __pascal foobar();
typedef int (__pascal *ptr)();
</pre></dd>
<dt> コンパイラオプション </dt>
<dd>&quot;-p&quot;</dd>
<dt> 装飾名 </dt>
<dd>関数名の英字が全て大文字に変換される。</dd>
</dl>

<p class="paragraph">
アセンブラコードを生成
<br />
</p>
<pre>&gt; bcc32 -Od -p -S callee.c
&gt; bcc32 -Od -p -S caller.c
</pre>

<p class="paragraph">
コンパイル＆リンク＆実行
<br />
</p>
<pre class="plugin_pre">
&gt; bcc32 -Od -p -c -ocallee_pascal.obj callee.c
&gt; bcc32 -Od -p -c -ocaller_pascal.obj caller.c
&gt; ilink32 /c /ap /Tpe c0x32 caller_pascal callee_pascal, pascal, , cw32 import32
&gt; pascal.exe
foo1() = 20
foo2() = 30
foo3() = 60
foo4() = 100
</pre>

<h4 id="id8f7907">callee.c のアセンブラ出力(callee.asm)</h4>
<pre class="plugin_pre">
	.386p
	ifdef ??version
	if    ??version GT 500H
	.mmx
	endif
	endif
	model flat
	ifndef	??version
	?debug	macro
	endm
	endif
	?debug	S &quot;callee.c&quot;
	?debug	T &quot;callee.c&quot;
_TEXT	segment dword public use32 &#039;CODE&#039;
_TEXT	ends
_DATA	segment dword public use32 &#039;DATA&#039;
_DATA	ends
_BSS	segment dword public use32 &#039;BSS&#039;
_BSS	ends
DGROUP	group	_BSS,_DATA
_TEXT	segment dword public use32 &#039;CODE&#039;
FOO1	proc	near
?live1@0:
   ;	
   ;	int foo1(int a) { return a * 2; }
   ;	
	push      ebp
	mov       ebp,esp
@1:
	mov       eax,dword ptr [ebp+8]
	add       eax,eax
@3:
@2:
	pop       ebp
	ret       4
FOO1	endp
FOO2	proc	near
?live1@32:
   ;	
   ;	int foo2(int a, int b) { return a + b; }
   ;	
	push      ebp
	mov       ebp,esp
@4:
	mov       eax,dword ptr [ebp+12]
	add       eax,dword ptr [ebp+8]
@6:
@5:
	pop       ebp
	ret       8
FOO2	endp
FOO3	proc	near
?live1@64:
   ;	
   ;	int foo3(int a, int b, int c) { return a + b + c; }
   ;	
	push      ebp
	mov       ebp,esp
@7:
	mov       eax,dword ptr [ebp+16]
	add       eax,dword ptr [ebp+12]
	add       eax,dword ptr [ebp+8]
@9:
@8:
	pop       ebp
	ret       12
FOO3	endp
FOO4	proc	near
?live1@96:
   ;	
   ;	int foo4(int a, int b, int c, int d) { return a + b + c + d; }
   ;	
	push      ebp
	mov       ebp,esp
@10:
	mov       eax,dword ptr [ebp+20]
	add       eax,dword ptr [ebp+16]
	add       eax,dword ptr [ebp+12]
	add       eax,dword ptr [ebp+8]
@12:
@11:
	pop       ebp
	ret       16
FOO4	endp
_TEXT	ends
	public	FOO1
	public	FOO2
	public	FOO3
	public	FOO4
	?debug	D &quot;callee.c&quot; 15473 24064
	end
</pre>

<h4 id="id289412">caller.cのアセンブラ出力(caller.asm)</h4>
<pre class="plugin_pre">
	.386p
	ifdef ??version
	if    ??version GT 500H
	.mmx
	endif
	endif
	model flat
	ifndef	??version
	?debug	macro
	endm
	endif
	?debug	S &quot;caller.c&quot;
	?debug	T &quot;caller.c&quot;
_TEXT	segment dword public use32 &#039;CODE&#039;
_TEXT	ends
_DATA	segment dword public use32 &#039;DATA&#039;
_DATA	ends
_BSS	segment dword public use32 &#039;BSS&#039;
_BSS	ends
DGROUP	group	_BSS,_DATA
_TEXT	segment dword public use32 &#039;CODE&#039;
_main	proc	near
?live1@0:
   ;	
   ;	int __cdecl main(int argc, char *argv[])
   ;	
	push      ebp
	mov       ebp,esp
   ;	
   ;	{
   ;		printf(&quot;foo1() = %d\n&quot;, foo1(10));
   ;	
@1:
	push      10
	call      FOO1
	push      eax
	push      offset s@
	call      _printf
	add       esp,8
   ;	
   ;		printf(&quot;foo2() = %d\n&quot;, foo2(10, 20));
   ;	
	push      10
	push      20
	call      FOO2
	push      eax
	push      offset s@+13
	call      _printf
	add       esp,8
   ;	
   ;		printf(&quot;foo3() = %d\n&quot;, foo3(10, 20, 30));
   ;	
	push      10
	push      20
	push      30
	call      FOO3
	push      eax
	push      offset s@+26
	call      _printf
	add       esp,8
   ;	
   ;		printf(&quot;foo4() = %d\n&quot;, foo4(10, 20, 30, 40));
   ;	
	push      10
	push      20
	push      30
	push      40
	call      FOO4
	push      eax
	push      offset s@+39
	call      _printf
	add       esp,8
   ;	
   ;		return 0;
   ;	
	xor       eax,eax
   ;	
   ;	}
   ;	
@3:
@2:
	pop       ebp
	ret 
_main	endp
_TEXT	ends
_DATA	segment dword public use32 &#039;DATA&#039;
s@	label	byte
	;	s@+0:
	db	&quot;foo1() = %d&quot;,10,0
	;	s@+13:
	db	&quot;foo2() = %d&quot;,10,0
	;	s@+26:
	db	&quot;foo3() = %d&quot;,10,0
	;	s@+39:
	db	&quot;foo4() = %d&quot;,10,0
	align	4
_DATA	ends
_TEXT	segment dword public use32 &#039;CODE&#039;
_TEXT	ends
	public	_main
 extrn   __setargv__:near
 extrn   _printf:near
 extrn   FOO1:near
 extrn   FOO2:near
 extrn   FOO3:near
 extrn   FOO4:near
	?debug	D &quot;C:\in_vitro\apps\borland\bcc55\include\_nfile.h&quot; 10339 10240
	?debug	D &quot;C:\in_vitro\apps\borland\bcc55\include\_null.h&quot; 10339 10240
	?debug	D &quot;C:\in_vitro\apps\borland\bcc55\include\_defs.h&quot; 10339 10240
	?debug	D &quot;C:\in_vitro\apps\borland\bcc55\include\_stddef.h&quot; 10339 10240
	?debug	D &quot;C:\in_vitro\apps\borland\bcc55\include\stdio.h&quot; 10339 10240
	?debug	D &quot;caller.c&quot; 15473 24232
	end
</pre>

<h3 id="id7a80e1">OpenWatcom Compiler(16bit)</h3>

<p class="paragraph">
※サンプルコードは <a href="./view-620.html" >C言語系/呼び出し規約/x86/fortran</a> の callee.c, caller.c を使用。
<br />
</p>

<dl>
<dt> 指定方法 </dt>
<dd>
<pre>int __pascal foobar();
typedef int (__pascal *ptr)();
</pre></dd>
<dt> コンパイラオプション </dt>
<dd>&quot;-ecp&quot;</dd>
<dt> 装飾名 </dt>
<dd>関数名の英字が全て大文字に変換される。</dd>
</dl>

<p class="paragraph">
コンパイル＆リンク＆実行 
<br />
</p>
<pre class="plugin_pre">
&gt; wcc -od -d0 -ecp callee.c
&gt; wcc -od -d0 -ecp caller.c
&gt; wcl -fe=pascal16.exe caller.obj callee.obj
&gt; pascal16.exe
foo1() = 20
foo2() = 30
foo3() = 60
foo4() = 100
foo5() = 150
foo6() = 210
</pre>

<p class="paragraph">
アセンブラ生成
<br />
</p>
<pre class="plugin_pre">
&gt; wdis -a -l=callee.asm callee.obj
&gt; wdis -a -l=caller.asm caller.obj
</pre>

<h4 id="id8f7907">callee.c のアセンブラ出力(callee.asm)</h4>
<pre class="plugin_pre">
.387
		PUBLIC	FOO1
		PUBLIC	FOO2
		PUBLIC	FOO3
		PUBLIC	FOO4
		PUBLIC	FOO5
		PUBLIC	FOO6
		EXTRN	__STK:BYTE
		EXTRN	_small_code_:BYTE
DGROUP		GROUP	CONST,CONST2,_DATA
_TEXT		SEGMENT	BYTE PUBLIC USE16 &#039;CODE&#039;
		ASSUME CS:_TEXT, DS:DGROUP, SS:DGROUP
FOO1:
    mov         ax,4 
    call        near ptr __STK 
    push        bp 
    mov         bp,sp 
    mov         ax,word ptr 4[bp] 
    shl         ax,1 
    pop         bp 
    ret         2 
FOO2:
    mov         ax,4 
    call        near ptr __STK 
    push        bp 
    mov         bp,sp 
    mov         ax,word ptr 6[bp] 
    add         ax,word ptr 4[bp] 
    pop         bp 
    ret         4 
FOO3:
    mov         ax,4 
    call        near ptr __STK 
    push        bp 
    mov         bp,sp 
    mov         ax,word ptr 8[bp] 
    add         ax,word ptr 6[bp] 
    add         ax,word ptr 4[bp] 
    pop         bp 
    ret         6 
FOO4:
    mov         ax,4 
    call        near ptr __STK 
    push        bp 
    mov         bp,sp 
    mov         ax,word ptr 0aH[bp] 
    add         ax,word ptr 8[bp] 
    add         ax,word ptr 6[bp] 
    add         ax,word ptr 4[bp] 
    pop         bp 
    ret         8 
FOO5:
    mov         ax,4 
    call        near ptr __STK 
    push        bp 
    mov         bp,sp 
    mov         ax,word ptr 0cH[bp] 
    add         ax,word ptr 0aH[bp] 
    add         ax,word ptr 8[bp] 
    add         ax,word ptr 6[bp] 
    add         ax,word ptr 4[bp] 
    pop         bp 
    ret         0aH 
FOO6:
    mov         ax,4 
    call        near ptr __STK 
    push        bp 
    mov         bp,sp 
    mov         ax,word ptr 0eH[bp] 
    add         ax,word ptr 0cH[bp] 
    add         ax,word ptr 0aH[bp] 
    add         ax,word ptr 8[bp] 
    add         ax,word ptr 6[bp] 
    add         ax,word ptr 4[bp] 
    pop         bp 
    ret         0cH 
_TEXT		ENDS
CONST		SEGMENT	WORD PUBLIC USE16 &#039;DATA&#039;
CONST		ENDS
CONST2		SEGMENT	WORD PUBLIC USE16 &#039;DATA&#039;
CONST2		ENDS
_DATA		SEGMENT	WORD PUBLIC USE16 &#039;DATA&#039;
_DATA		ENDS
		END
</pre>

<h4 id="id511925">caller.c のアセンブラ出力(caller.asm)</h4>
<pre class="plugin_pre">
.387
		PUBLIC	main_
		EXTRN	__STK:BYTE
		EXTRN	FOO1:BYTE
		EXTRN	printf_:BYTE
		EXTRN	FOO2:BYTE
		EXTRN	FOO3:BYTE
		EXTRN	FOO4:BYTE
		EXTRN	FOO5:BYTE
		EXTRN	FOO6:BYTE
		EXTRN	__argc:BYTE
		EXTRN	_small_code_:BYTE
		EXTRN	_cstart_:BYTE
DGROUP		GROUP	CONST,CONST2,_DATA
_TEXT		SEGMENT	BYTE PUBLIC USE16 &#039;CODE&#039;
		ASSUME CS:_TEXT, DS:DGROUP, SS:DGROUP
main_:
    push        ax 
    mov         ax,12H 
    call        near ptr __STK 
    pop         ax 
    push        bx 
    push        cx 
    mov         ax,0aH 
    push        ax 
    call        near ptr FOO1 
    push        ax 
    mov         ax,offset DGROUP:L$1 
    push        ax 
    call        near ptr printf_ 
    add         sp,4 
    mov         ax,0aH 
    push        ax 
    mov         ax,14H 
    push        ax 
    call        near ptr FOO2 
    push        ax 
    mov         ax,offset DGROUP:L$2 
    push        ax 
    call        near ptr printf_ 
    add         sp,4 
    mov         ax,0aH 
    push        ax 
    mov         ax,14H 
    push        ax 
    mov         ax,1eH 
    push        ax 
    call        near ptr FOO3 
    push        ax 
    mov         ax,offset DGROUP:L$3 
    push        ax 
    call        near ptr printf_ 
    add         sp,4 
    mov         ax,0aH 
    push        ax 
    mov         ax,14H 
    push        ax 
    mov         ax,1eH 
    push        ax 
    mov         ax,28H 
    push        ax 
    call        near ptr FOO4 
    push        ax 
    mov         ax,offset DGROUP:L$4 
    push        ax 
    call        near ptr printf_ 
    add         sp,4 
    mov         ax,0aH 
    push        ax 
    mov         ax,14H 
    push        ax 
    mov         ax,1eH 
    push        ax 
    mov         ax,28H 
    push        ax 
    mov         ax,32H 
    push        ax 
    call        near ptr FOO5 
    push        ax 
    mov         ax,offset DGROUP:L$5 
    push        ax 
    call        near ptr printf_ 
    add         sp,4 
    mov         ax,0aH 
    push        ax 
    mov         ax,14H 
    push        ax 
    mov         ax,1eH 
    push        ax 
    mov         ax,28H 
    push        ax 
    mov         ax,32H 
    push        ax 
    mov         ax,3cH 
    push        ax 
    call        near ptr FOO6 
    push        ax 
    mov         ax,offset DGROUP:L$6 
    push        ax 
    call        near ptr printf_ 
    add         sp,4 
    xor         ax,ax 
    pop         cx 
    pop         bx 
    ret         
_TEXT		ENDS
CONST		SEGMENT	WORD PUBLIC USE16 &#039;DATA&#039;
L$1:
    DB	66H, 6fH, 6fH, 31H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$2:
    DB	66H, 6fH, 6fH, 32H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$3:
    DB	66H, 6fH, 6fH, 33H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$4:
    DB	66H, 6fH, 6fH, 34H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$5:
    DB	66H, 6fH, 6fH, 35H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$6:
    DB	66H, 6fH, 6fH, 36H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0

CONST		ENDS
CONST2		SEGMENT	WORD PUBLIC USE16 &#039;DATA&#039;
CONST2		ENDS
_DATA		SEGMENT	WORD PUBLIC USE16 &#039;DATA&#039;
_DATA		ENDS
		END
</pre>

<h3 id="idbc83bc">OpenWatcom Compiler(32bit)</h3>

<p class="paragraph">
※サンプルコードは <a href="./view-620.html" >C言語系/呼び出し規約/x86/fortran</a> の callee.c, caller.c を使用。
<br />
</p>

<dl>
<dt> 指定方法 </dt>
<dd>
<pre>int __pascal foobar();
typedef int (__pascal *ptr)();
</pre></dd>
<dt> コンパイラオプション </dt>
<dd>&quot;-ecp&quot;</dd>
<dt> 装飾名 </dt>
<dd>関数名の英字が全て大文字に変換される。</dd>
</dl>

<p class="paragraph">
コンパイル＆リンク＆実行 
<br />
</p>
<pre class="plugin_pre">
&gt; wcc386 -od -d0 -ecp callee.c
&gt; wcc386 -od -d0 -ecp caller.c
&gt; wcl386 -fe=pascal32.exe caller.obj callee.obj
&gt; pascal32.exe
foo1() = 20
foo2() = 30
foo3() = 60
foo4() = 100
foo5() = 150
foo6() = 210
</pre>

<p class="paragraph">
アセンブラ生成
<br />
</p>
<pre class="plugin_pre">
&gt; wdis -a -l=callee.asm callee.obj
&gt; wdis -a -l=caller.asm caller.obj
</pre>

<h4 id="id8f7907">callee.c のアセンブラ出力(callee.asm)</h4>
<pre class="plugin_pre">
.387
.386p
.model flat
		PUBLIC	FOO1
		PUBLIC	FOO2
		PUBLIC	FOO3
		PUBLIC	FOO4
		PUBLIC	FOO5
		PUBLIC	FOO6
		EXTRN	__CHK:BYTE
DGROUP		GROUP	CONST,CONST2,_DATA
_TEXT		SEGMENT	BYTE PUBLIC USE32 &#039;CODE&#039;
		ASSUME CS:_TEXT, DS:DGROUP, SS:DGROUP
FOO1:
    push        4 
    call        near ptr FLAT:__CHK 
    mov         eax,dword ptr 4[esp] 
    add         eax,eax 
    ret         4 
FOO2:
    push        4 
    call        near ptr FLAT:__CHK 
    mov         eax,dword ptr 8[esp] 
    add         eax,dword ptr 4[esp] 
    ret         8 
FOO3:
    push        4 
    call        near ptr FLAT:__CHK 
    mov         eax,dword ptr 0cH[esp] 
    add         eax,dword ptr 8[esp] 
    add         eax,dword ptr 4[esp] 
    ret         0cH 
FOO4:
    push        4 
    call        near ptr FLAT:__CHK 
    mov         eax,dword ptr 10H[esp] 
    add         eax,dword ptr 0cH[esp] 
    add         eax,dword ptr 8[esp] 
    add         eax,dword ptr 4[esp] 
    ret         10H 
FOO5:
    push        4 
    call        near ptr FLAT:__CHK 
    mov         eax,dword ptr 14H[esp] 
    add         eax,dword ptr 10H[esp] 
    add         eax,dword ptr 0cH[esp] 
    add         eax,dword ptr 8[esp] 
    add         eax,dword ptr 4[esp] 
    ret         14H 
FOO6:
    push        4 
    call        near ptr FLAT:__CHK 
    mov         eax,dword ptr 18H[esp] 
    add         eax,dword ptr 14H[esp] 
    add         eax,dword ptr 10H[esp] 
    add         eax,dword ptr 0cH[esp] 
    add         eax,dword ptr 8[esp] 
    add         eax,dword ptr 4[esp] 
    ret         18H 
_TEXT		ENDS
CONST		SEGMENT	DWORD PUBLIC USE32 &#039;DATA&#039;
CONST		ENDS
CONST2		SEGMENT	DWORD PUBLIC USE32 &#039;DATA&#039;
CONST2		ENDS
_DATA		SEGMENT	DWORD PUBLIC USE32 &#039;DATA&#039;
_DATA		ENDS
		END
</pre>

<h4 id="id511925">caller.c のアセンブラ出力(caller.asm)</h4>
<pre class="plugin_pre">
.387
.386p
.model flat
		PUBLIC	main_
		EXTRN	__CHK:BYTE
		EXTRN	FOO1:BYTE
		EXTRN	printf_:BYTE
		EXTRN	FOO2:BYTE
		EXTRN	FOO3:BYTE
		EXTRN	FOO4:BYTE
		EXTRN	FOO5:BYTE
		EXTRN	FOO6:BYTE
		EXTRN	__argc:BYTE
		EXTRN	_cstart_:BYTE
DGROUP		GROUP	CONST,CONST2,_DATA
_TEXT		SEGMENT	BYTE PUBLIC USE32 &#039;CODE&#039;
		ASSUME CS:_TEXT, DS:DGROUP, SS:DGROUP
main_:
    push        24H 
    call        near ptr FLAT:__CHK 
    push        ebx 
    push        ecx 
    push        0aH 
    call        near ptr FLAT:FOO1 
    push        eax 
    push        offset FLAT:L$1 
    call        near ptr FLAT:printf_ 
    add         esp,8 
    push        0aH 
    push        14H 
    call        near ptr FLAT:FOO2 
    push        eax 
    push        offset FLAT:L$2 
    call        near ptr FLAT:printf_ 
    add         esp,8 
    push        0aH 
    push        14H 
    push        1eH 
    call        near ptr FLAT:FOO3 
    push        eax 
    push        offset FLAT:L$3 
    call        near ptr FLAT:printf_ 
    add         esp,8 
    push        0aH 
    push        14H 
    push        1eH 
    push        28H 
    call        near ptr FLAT:FOO4 
    push        eax 
    push        offset FLAT:L$4 
    call        near ptr FLAT:printf_ 
    add         esp,8 
    push        0aH 
    push        14H 
    push        1eH 
    push        28H 
    push        32H 
    call        near ptr FLAT:FOO5 
    push        eax 
    push        offset FLAT:L$5 
    call        near ptr FLAT:printf_ 
    add         esp,8 
    push        0aH 
    push        14H 
    push        1eH 
    push        28H 
    push        32H 
    push        3cH 
    call        near ptr FLAT:FOO6 
    push        eax 
    push        offset FLAT:L$6 
    call        near ptr FLAT:printf_ 
    add         esp,8 
    xor         eax,eax 
    pop         ecx 
    pop         ebx 
    ret         
_TEXT		ENDS
CONST		SEGMENT	DWORD PUBLIC USE32 &#039;DATA&#039;
L$1:
    DB	66H, 6fH, 6fH, 31H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$2:
    DB	66H, 6fH, 6fH, 32H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$3:
    DB	66H, 6fH, 6fH, 33H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$4:
    DB	66H, 6fH, 6fH, 34H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$5:
    DB	66H, 6fH, 6fH, 35H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0
L$6:
    DB	66H, 6fH, 6fH, 36H, 28H, 29H, 20H, 3dH
    DB	20H, 25H, 64H, 0aH, 0

CONST		ENDS
CONST2		SEGMENT	DWORD PUBLIC USE32 &#039;DATA&#039;
CONST2		ENDS
_DATA		SEGMENT	DWORD PUBLIC USE32 &#039;DATA&#039;
_DATA		ENDS
		END
</pre>

<h3 id="id89ff71">Turbo C++ 4.0J(TC4J)</h3>

<p class="paragraph">
TC4Jで、コマンドラインからの呼び出し規約指定オプションが不明だった為、gcc系列と同様、CALLINGCONVを&quot;-D&quot;でdefineすることにより切り替える方式を採った。
<br />
なお、TC4Jについてはリンク＆実行までは行っていない。
<br />
</p>

<dl>
<dt> 指定方法 </dt>
<dd>
<pre>int __pascal foobar();
typedef int (__pascal *ptr)();
</pre></dd>
<dt> 装飾名 </dt>
<dd>関数名の英字が全て大文字に変換される。</dd>
</dl>

<p class="paragraph">
アセンブラコードを生成
<br />
</p>
<pre>&gt; tcc -DCALLINGCONV=__pascal -S callee.c
&gt; tcc -DCALLINGCONV=__pascal -S caller.c
</pre>

<h4 id="id8f7907">callee.c のアセンブラ出力(callee.asm)</h4>
<pre class="plugin_pre">
	.286p
	ifndef	??version
?debug	macro
	endm
publicdll macro	name
	public	name
	endm
$comm	macro	name,dist,size,count
	comm	dist name:BYTE:count*size
	endm
	else
$comm	macro	name,dist,size,count
	comm	dist name[size]:BYTE:count
	endm
	endif
	?debug	V 301h
	?debug	S &quot;callee.c&quot;
	?debug	C E91593723C0863616C6C65652E63
_TEXT	segment byte public &#039;CODE&#039;
_TEXT	ends
DGROUP	group	_DATA,_BSS
	assume	cs:_TEXT,ds:DGROUP
_DATA	segment word public &#039;DATA&#039;
d@	label	byte
d@w	label	word
_DATA	ends
_BSS	segment word public &#039;BSS&#039;
b@	label	byte
b@w	label	word
_BSS	ends
_TEXT	segment byte public &#039;CODE&#039;
   ;	
   ;	int CALLINGCONV foo1(int a) { return a * 2; }
   ;	
	assume	cs:_TEXT,ds:DGROUP
FOO1	proc	near
	push	bp
	mov	bp,sp
	mov	ax,word ptr [bp+4]
	add	ax,ax
	pop	bp
	ret	2
	pop	bp
	ret	2
FOO1	endp
   ;	
   ;	int CALLINGCONV foo2(int a, int b) { return a + b; }
   ;	
	assume	cs:_TEXT,ds:DGROUP
FOO2	proc	near
	push	bp
	mov	bp,sp
	mov	ax,word ptr [bp+6]
	add	ax,word ptr [bp+4]
	pop	bp
	ret	4
	pop	bp
	ret	4
FOO2	endp
   ;	
   ;	int CALLINGCONV foo3(int a, int b, int c) { return a + b + c; }
   ;	
	assume	cs:_TEXT,ds:DGROUP
FOO3	proc	near
	push	bp
	mov	bp,sp
	mov	ax,word ptr [bp+8]
	add	ax,word ptr [bp+6]
	add	ax,word ptr [bp+4]
	pop	bp
	ret	6
	pop	bp
	ret	6
FOO3	endp
   ;	
   ;	int CALLINGCONV foo4(int a, int b, int c, int d) { return a + b + c + d; }
   ;	
	assume	cs:_TEXT,ds:DGROUP
FOO4	proc	near
	push	bp
	mov	bp,sp
	mov	ax,word ptr [bp+10]
	add	ax,word ptr [bp+8]
	add	ax,word ptr [bp+6]
	add	ax,word ptr [bp+4]
	pop	bp
	ret	8
	pop	bp
	ret	8
FOO4	endp
	?debug	C E9
	?debug	C FA00000000
_TEXT	ends
_DATA	segment word public &#039;DATA&#039;
s@	label	byte
_DATA	ends
_TEXT	segment byte public &#039;CODE&#039;
_TEXT	ends
_s@	equ	s@
	public	FOO1
	public	FOO2
	public	FOO3
	public	FOO4
	end
</pre>

<h4 id="id511925">caller.c のアセンブラ出力(caller.asm)</h4>
<pre class="plugin_pre">
	.286p
	ifndef	??version
?debug	macro
	endm
publicdll macro	name
	public	name
	endm
$comm	macro	name,dist,size,count
	comm	dist name:BYTE:count*size
	endm
	else
$comm	macro	name,dist,size,count
	comm	dist name[size]:BYTE:count
	endm
	endif
	?debug	V 301h
	?debug	S &quot;caller.c&quot;
	?debug	C E9D2A0723C0863616C6C65722E63
	?debug	C E900207F1E16433A5C5443345C494E434C5544455C737464696F2E+
	?debug	C 68
	?debug	C E900207F1E16433A5C5443345C494E434C5544455C5F646566732E+
	?debug	C 68
	?debug	C E900207F1E17433A5C5443345C494E434C5544455C5F6E66696C65+
	?debug	C 2E68
	?debug	C E900207F1E16433A5C5443345C494E434C5544455C5F6E756C6C2E+
	?debug	C 68
_TEXT	segment byte public &#039;CODE&#039;
_TEXT	ends
DGROUP	group	_DATA,_BSS
	assume	cs:_TEXT,ds:DGROUP
_DATA	segment word public &#039;DATA&#039;
d@	label	byte
d@w	label	word
_DATA	ends
_BSS	segment word public &#039;BSS&#039;
b@	label	byte
b@w	label	word
_BSS	ends
_TEXT	segment byte public &#039;CODE&#039;
   ;	
   ;	int __cdecl main(int argc, char *argv[])
   ;	
	assume	cs:_TEXT,ds:DGROUP
_main	proc	near
	push	bp
	mov	bp,sp
   ;	
   ;	{
   ;	    printf(&quot;foo1() = %d\n&quot;, foo1(10));
   ;	
	push	10
	call	near ptr FOO1
	push	ax
	push	offset DGROUP:s@
	call	near ptr _printf
	add	sp,4
   ;	
   ;	    printf(&quot;foo2() = %d\n&quot;, foo2(10, 20));
   ;	
	push	10
	push	20
	call	near ptr FOO2
	push	ax
	push	offset DGROUP:s@+13
	call	near ptr _printf
	add	sp,4
   ;	
   ;	    printf(&quot;foo3() = %d\n&quot;, foo3(10, 20, 30));
   ;	
	push	10
	push	20
	push	30
	call	near ptr FOO3
	push	ax
	push	offset DGROUP:s@+26
	call	near ptr _printf
	add	sp,4
   ;	
   ;	    printf(&quot;foo4() = %d\n&quot;, foo4(10, 20, 30, 40));
   ;	
	push	10
	push	20
	push	30
	push	40
	call	near ptr FOO4
	push	ax
	push	offset DGROUP:s@+39
	call	near ptr _printf
	add	sp,4
   ;	
   ;	    return 0;
   ;	
	xor	ax,ax
	pop	bp
	ret	
   ;	
   ;	}
   ;	
	pop	bp
	ret	
_main	endp
	?debug	C E9
	?debug	C FA00000000
_TEXT	ends
_DATA	segment word public &#039;DATA&#039;
s@	label	byte
	db	&#039;foo1() = %d&#039;
	db	10
	db	0
	db	&#039;foo2() = %d&#039;
	db	10
	db	0
	db	&#039;foo3() = %d&#039;
	db	10
	db	0
	db	&#039;foo4() = %d&#039;
	db	10
	db	0
_DATA	ends
_TEXT	segment byte public &#039;CODE&#039;
_TEXT	ends
_s@	equ	s@
	extrn	_printf:near
	extrn	FOO1:near
	extrn	FOO2:near
	extrn	FOO3:near
	extrn	FOO4:near
	public	_main
	extrn	__setargv__:far
	end
</pre>

<hr class="full_hr" />
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-622.html" title="C言語系/呼び出し規約/x86/naked">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-624.html" title="C言語系/呼び出し規約/x86/register">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-615.html" title="C言語系/呼び出し規約/x86">Up</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-478.html" title="C言語系">C言語系</a>&nbsp;]</li>
</ul>
</div>

<div class="data_attrs_post">
original url: https://www.glamenv-septzen.net/view/619<br>
</div>

</div>
<!-- //data_main -->

</div>


</div>
<!-- /content-wrap end -->

<!-- footer start -->
<div id="footer">
Copyright &copy; 2001 - 2025 Masahiko Sakamoto(msakamoto-sf)<br>
License&nbsp;:&nbsp;<a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a><br>
Contact&nbsp;:&nbsp;<a target="_blank" href="https://x.com/msakamoto_sf">x(twitter)</a> / <a target="_blank" href="https://github.com/msakamoto-sf/">github</a> / <a class="maillink" target="_blank" href="mailto:&#x73;&#x61;&#x6B;&#x61;&#x6D;&#x6F;&#x74;&#x6F;&#x2E;&#x67;&#x73;&#x79;&#x63;&#x2E;&#x33;&#x73;&#x40;&#x67;&#x6D;&#x61;&#x69;&#x6C;&#x2E;&#x63;&#x6F;&#x6D;">email</a><br>
--&nbsp;Beautiful Icons&nbsp;--<br />
<a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank" title="Mark James Silk icon set 1.3">Mark James Silk icon set 1.3</a> by famfamfam<br />
<a href="http://www.pinvoke.com/" target="_blank" title="Fugue Icons">Fugue Icons</a> by Yusuke Kamiyamane<br />
</div>
<!-- /footer end -->

</div>
<!-- /body end -->

</body>
</html>