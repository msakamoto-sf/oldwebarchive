<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>技術/Android/WiFi接続とHTTP-Proxyを取り巻く状況まとめ(2011-05現在) - Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</title>
<!-- favicon 2017's reference:
https://developers.google.com/web/fundamentals/design-and-ui/browser-customization/
https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx
https://developer.chrome.com/multidevice/android/installtohomescreen
https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html
-->
<link rel="shortcut icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="apple-touch-icon" sizes="57x57" href="../favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="../favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="../favicons/favicon-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-160x160.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-196x196.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../favicons/favicon-32x32.png" sizes="32x32">

<!-- browserconfig.xml : https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx -->
<meta name="msapplication-TileColor" content="#990000">
<meta name="msapplication-TileImage" content="../favicons/mstile-144x144.png">

<!-- these favicon files were generated by https://ao-system.net/favicongenerator/ , thanks!!(2017-02-18) -->

<style type="text/css"></style>

<link href="./css/pcbrowser.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_plugins.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_wiki.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/print.css" rel="stylesheet" type="text/css" media="print"/>
</head>
<body>
<!-- body start -->
<div class="body">
<div style="display: inline"><a name="pagetop"></a></div>
<div id="header-wrap">
<img src="./images/logo1.jpg" style="float: left; margin-right: 1em;"/>
<a href="./index.html" title="Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)"><img src="./icons/home.png" alt="home"/>&nbsp;Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</a>


<h1 style="margin-bottom: 10px;">技術/Android/WiFi接続とHTTP-Proxyを取り巻く状況まとめ(2011-05現在)</h1>

<div style="clear: both;"></div>
</div><!-- //header-wrap -->

<!-- content-wrap start -->
<div id="content-wrap"><div class="contents_s">

<!-- data_main -->
<div class="data_main">

<div class="data_attrs_pre">
作成日: 2011-05-21 18:34:37 &nbsp; / &nbsp; last updated at: 2011-05-21 18:35:03<br>
カテゴリ: <a href="category-58.html">Android</a>&nbsp;</div>

<div class="data_body">
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-1104.html" title="技術/Android/WebViewセキュリティメモ1">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-970.html" title="技術/Android/アプリメモ">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-23.html" title="技術">技術</a>&nbsp;]</li>
</ul>
<hr class="full_hr" />

<p class="paragraph">
Android実機でWiFi接続するときに、HTTP-Proxyを設定するには？についてアレコレ調べた時の参考資料メモです。
<br />
2011年5月中頃時点でGoogle検索で得られたURLを元にしています。
<br />
Android触り始めて三日しか経っていない状況での調査であるため、見落としや勘違いなどもあると思いますので注意してください。
<br />
</p>

<p class="paragraph">
前提：Androidの提供している設定メニューから設定できるか？
<br />
</p>
<dl>
<dt> Android 3.1 </dt>
<dd>WiFi接続に対してHTTP Proxy登録可能。</dd>
<dt> Android 3.0 以前 </dt>
<dd>設定メニューには無い。ただし後述のとおりroot化を前提としたProxy設定アプリがAndroidMarket上に公開されており、これを使うとAndroid3.0以前の端末でもHTTP-Proxyを設定・利用できるらしい。</dd>
</dl>



<hr />
<ul><li><a href="#id0543e5">MotorolaのXOOMがAndroid 3.0だから、3.1にアップデート出来ないか？</a></li>
<li><a href="#ide53013">root化(rooting)前提のProxy設定アプリ for Android 3.0 以前</a><ul><li><a href="#id7b0728">root化(rooting)の法的リスク</a></li>
<li><a href="#id90325f">root化するためのAndroidアプリ</a></li></ul></li>
<li><a href="#id35db33">root化せずにAndroidが提供するAPIを正当に使用してProxyを設定できないか？</a><ul><li><a href="#id711afd">JavaのHTTP通信とProxy設定</a></li>
<li><a href="#idbb9232">システム全体あるいは他のアプリのHTTP-Proxyを設定するには</a></li>
<li><a href="#idba6876">参考URL</a></li></ul></li></ul>
<hr />
<h3 id="id0543e5">MotorolaのXOOMがAndroid 3.0だから、3.1にアップデート出来ないか？</h3>

<ul><li> au KDDI のXOOMでは3.1のアップデートは未定。</li>
<li> 米国Verizonから販売されているXOOM(日本国内では販売されていない)の場合は、5月中頃から3.1へのアップデートが配布されている。日本国内でも、個人輸入した人が「3.1にアップデート、WiFiでProxy設定できた」と報告している。<ul><li> Motorola、XOOM向けAndroid 3.1（Honeycomb）へのアップデートに関する詳細を発表 | juggly.cn<ul><li> <a class="externallink" href="http://juggly.cn/archives/28301.html" target="_blank">http://juggly.cn/archives/28301.html</a></li></ul></li>
<li> Motorola XOOMのWi-Fi版へのAndroid 3.1アップデートの提供は今後数週間を目処に<ul><li> <a class="externallink" href="http://www.gapsis.jp/2011/05/motorola-xoomwi-fiandroid-31.html" target="_blank">http://www.gapsis.jp/2011/05/motorola-xoomwi-fiandroid-31.html</a></li></ul></li>
<li> XOOM(Verizon版)を個人輸入する際の注意点と価格[もうすぐ到着]<ul><li> <a class="externallink" href="http://www.droidon.com/2011/03/xoomverizon.html" target="_blank">http://www.droidon.com/2011/03/xoomverizon.html</a></li></ul></li>
<li> XOOM到着！ざっとレビューします。[写真・動画]<ul><li> <a class="externallink" href="http://www.droidon.com/2011/03/xoom.html" target="_blank">http://www.droidon.com/2011/03/xoom.html</a></li></ul></li>
<li> Kazuyuki Eguchi Factory::XOOMにAndroid 3.1へのアップデート通知がやって来た。<ul><li> <a class="externallink" href="http://eguchi.jp/blognplus/index.php?e=449" target="_blank">http://eguchi.jp/blognplus/index.php?e=449</a></li></ul></li>
<li> Kazuyuki Eguchi Factory::Android 3.1でWiFiの設定にProxy設定が追加された。<ul><li> <a class="externallink" href="http://eguchi.jp/blognplus/index.php?e=450" target="_blank">http://eguchi.jp/blognplus/index.php?e=450</a></li></ul></li></ul></li></ul>

<ul><li> 2011年5月20日 14:41:29 時点で日本のAmazonでVerizon版XOOM (MZ600) が在庫3個。海外携帯電話の専門業者が輸入してくれているようだ。<ul><li> 頑張ってこれを購入して 3.1 にアップデートするという選択肢。</li></ul></li></ul>
<a href="https://www.amazon.co.jp/dp/B004RSZPH4" target="_blank">Amazon.co.jp: Motorola Xoom MZ600 【アンドロイド3.0 Honeycomb搭載】モトローラー ズーム MZ600 : パソコン・周辺機器</a><br>

<ul><li> Verizon版XOOMをAndroid 3.1に無理やり or まっとうな方法でupdateする参考：<ul><li> How To Upgrade Motorola XOOM To Android 3.1 Honeycomb | Review Unit<ul><li> <a class="externallink" href="http://reviewunit.com/how-to-upgrade-motorola-xoom-to-android-3-1-honeycomb/" target="_blank">http://reviewunit.com/how-to-upgrade-motorola-xoom-to-android-3-1-honeycomb/</a></li></ul></li>
<li> How to Upgrade / Update MOTOROLA XOOM to Android 3.1 - Internet Service Provider | Technology &amp; Information<ul><li> <a class="externallink" href="http://www.venusvenera.com/2011/05/how-to-upgrade-update-motorola-xoom-to.html" target="_blank">http://www.venusvenera.com/2011/05/how-to-upgrade-update-motorola-xoom-to.html</a></li></ul></li>
<li> How to Force Your Motorola Xoom Android 3.1 Update<ul><li> <a class="externallink" href="http://www.tabletmonsters.com/news/force-motorola-xoom-android-3-1-ota-upgrade" target="_blank">http://www.tabletmonsters.com/news/force-motorola-xoom-android-3-1-ota-upgrade</a></li></ul></li></ul></li></ul>

<h3 id="ide53013">root化(rooting)前提のProxy設定アプリ for Android 3.0 以前</h3>

<p class="paragraph">
Android Marketで、3.0以前でもHTTP Proxyを設定できるAndroidアプリが公開されている。
<br />
<strong>いずれもroot前提と明記されている。</strong>iptablesも操作しているようだ。
<br />
</p>

<ul><li> ProxyDroid：無料<ul><li> <a class="externallink" href="https://market.android.com/details?id=org.proxydroid" target="_blank">https://market.android.com/details?id=org.proxydroid</a></li></ul></li>
<li> ASProxy：有料<ul><li> <a class="externallink" href="https://market.android.com/details?id=com.Alsu.ASProxy&amp;feature=search_result" target="_blank">https://market.android.com/details?id=com.Alsu.ASProxy&amp;feature=search_result</a></li></ul></li>
<li> 野良アプリであやしげ：<ul><li> <a class="externallink" href="http://android-proxy.blogspot.com/2010/09/proxy-settings-android-application.html" target="_blank">http://android-proxy.blogspot.com/2010/09/proxy-settings-android-application.html</a></li></ul></li></ul>

<h4 id="id7b0728">root化(rooting)の法的リスク</h4>

<ul><li> AppleがiPhoneのJailBreakについて著作権の侵害などで訴訟云々の件<ul><li> → FCCによればroot化自体は問題ないらしい。ただし、メーカーの保証規定に反していれば保証は受けられなくなる。</li>
<li> iPhone jailbreaking (and all cell phone unlocking) made legal - Yahoo! News<ul><li> <a class="externallink" href="http://news.yahoo.com/s/ytech_wguy/ytech_wguy_tc3236" target="_blank">http://news.yahoo.com/s/ytech_wguy/ytech_wguy_tc3236</a></li></ul></li>
<li> → Androidの、少なくとも Nexus S については Android Securityチームの人が「fastboot oem unlockでrootを取得するのは設計上そうしているので、驚くことではない」とエントリで述べている。</li>
<li> Androidセキュリティチーム、Nexus Sのroot化について語る - スラッシュドット・ジャパン<ul><li> <a class="externallink" href="http://slashdot.jp/security/article.pl?sid=11/01/02/0136213" target="_blank">http://slashdot.jp/security/article.pl?sid=11/01/02/0136213</a></li></ul></li>
<li> Android Developers Blog: It’s not “rooting”, it’s openness<ul><li> <a class="externallink" href="http://android-developers.blogspot.com/2010/12/its-not-rooting-its-openness.html" target="_blank">http://android-developers.blogspot.com/2010/12/its-not-rooting-its-openness.html</a></li></ul></li></ul></li>
<li> ただし、root化による影響で機器が誤動作し、許可されていない周波数の電波を発振したり、あるいはソフトウェアのバグで他人に危害を加えるのはNGそう。</li></ul>

<p class="paragraph">
基本的な考え方としては、「購入したものについてはどう扱おうと購入者の自由」とし、unroot/JailBreak自体は許されるという考え方。
<br />
ただしメーカー間との「保証契約」は無効化される(場合が大半だろう)。
<br />
</p>
<ul><li> Question about legality of rooting. - Android Forums<ul><li> <a class="externallink" href="http://androidforums.com/android-lounge/312504-question-about-legality-rooting.html" target="_blank">http://androidforums.com/android-lounge/312504-question-about-legality-rooting.html</a></li></ul></li></ul>

<p class="paragraph">
その他参考にしたURL：
<br />
</p>
<ul><li> Rooting: Risk Vs. Rewards - Android Forums<ul><li> <a class="externallink" href="http://androidforums.com/motorola-droid-x/130979-rooting-risk-vs-rewards.html" target="_blank">http://androidforums.com/motorola-droid-x/130979-rooting-risk-vs-rewards.html</a></li></ul></li>
<li> Jailbreaking or Rooting Your Phone Is Legal but Can Be Risky - NYTimes.com<ul><li> <a class="externallink" href="http://www.nytimes.com/2010/11/25/technology/personaltech/25basics.html" target="_blank">http://www.nytimes.com/2010/11/25/technology/personaltech/25basics.html</a></li></ul></li>
<li> What is Rooting - Definition of Rooting for Android Users<ul><li> <a class="externallink" href="http://mobileoffice.about.com/od/glossary/g/rooting.htm" target="_blank">http://mobileoffice.about.com/od/glossary/g/rooting.htm</a></li></ul></li>
<li> Interesting LEGAL question about ROOT - xda-developers<ul><li> <a class="externallink" href="http://forum.xda-developers.com/showthread.php?t=739885" target="_blank">http://forum.xda-developers.com/showthread.php?t=739885</a></li></ul></li>
<li> Security risks of rooting your android smartphone - Android - Stack Exchange<ul><li> <a class="externallink" href="http://android.stackexchange.com/questions/6009/security-risks-of-rooting-your-android-smartphone" target="_blank">http://android.stackexchange.com/questions/6009/security-risks-of-rooting-your-android-smartphone</a></li></ul></li>
<li> Are there any risks to rooting a device? - Android - Stack Exchange<ul><li> <a class="externallink" href="http://android.stackexchange.com/questions/164/are-there-any-risks-to-rooting-a-device" target="_blank">http://android.stackexchange.com/questions/164/are-there-any-risks-to-rooting-a-device</a></li></ul></li></ul>

<h4 id="id90325f">root化するためのAndroidアプリ</h4>

<p class="paragraph">
機種によって使える/使えないがあるらしい。
<br />
</p>
<ul><li> 多くの端末をワンクリックでroot化できる「z4root」、Androidマーケットからダウンロード可能 | juggly.cn<ul><li> <a class="externallink" href="http://juggly.cn/archives/12734.html" target="_blank">http://juggly.cn/archives/12734.html</a></li></ul></li>
<li> 「Universal Androot」Androidマーケットに公開、23機種のroot化が可能（更新） | juggly.cn<ul><li> <a class="externallink" href="http://juggly.cn/archives/10839.html" target="_blank">http://juggly.cn/archives/10839.html</a></li></ul></li></ul>

<h3 id="id35db33">root化せずにAndroidが提供するAPIを正当に使用してProxyを設定できないか？</h3>

<p class="paragraph">
先に結論を書くと、
<br />
</p>
<ul><li> アプリが自分自身が行うHTTP通信に対してProxy設定を行うことは<em>おそらく</em>可能。</li>
<li> 他のアプリや、システム全体でのProxy設定をroot化せずに行うことは<em>おそらく</em>不可能。</li></ul>

<p class="paragraph">
「おそらく」と書いているのは、実際にアプリを作って検証してみないと本当のところは分からず、まだそこまで到達していないため。ただしProxy設定アプリが揃ってrootingを前提としていることから、少なくとも後者についてはほぼ確実と思われる。
<br />
</p>

<h4 id="id711afd">JavaのHTTP通信とProxy設定</h4>

<p class="paragraph">
HTTP通信を行うAndroidアプリを想定する。NDKを使ったNativeアプリは考慮せず、現時点で主流となっているJavaだけを考える。
<br />
バージョンやAPIレベルの違いは考えない。とりあえずAndroid 2.x - 3.0位迄を対象に調べてみた。
<br />
</p>

<p class="paragraph">
AndroidのJava APIはJDKのサブセットになっている。主要なパッケージについてはJDKと同様のインターフェイスで提供されている。実装としてはApache Harmonyプロジェクトを初めとしたApacheプロジェクトの成果を取り込んでいる。
<br />
</p>

<p class="paragraph">
となれば、JavaでHTTP通信を扱う場合にProxyを使う方法がそのまま適用できると思われる。
<br />
&quot;http.proxyHost&quot;などのシステムプロパティを設定しておき、&quot;new URL(...)&quot;などプロトコルハンドラを使えば、後はJavaのランタイムライブラリが裏側で自動的にProxyを使うようになる。
<br />
</p>
<ul><li> Sun JDK : Java ネットワークとプロキシ<ul><li> <a class="externallink" href="http://java.sun.com/javase/ja/6/docs/ja/technotes/guides/net/proxies.html" target="_blank">http://java.sun.com/javase/ja/6/docs/ja/technotes/guides/net/proxies.html</a></li></ul></li>
<li> Java Android Tutorials: Connect through a Proxy UnknownHost Solution<ul><li> <a class="externallink" href="http://apachejava.blogspot.com/2010/12/connect-through-proxy-unknownhost.html" target="_blank">http://apachejava.blogspot.com/2010/12/connect-through-proxy-unknownhost.html</a></li></ul></li>
<li> Android SDK : ProxySelector | Android Developers<ul><li> <a class="externallink" href="http://developer.android.com/reference/java/net/ProxySelector.html" target="_blank">http://developer.android.com/reference/java/net/ProxySelector.html</a></li></ul></li></ul>

<p class="paragraph">
システムプロパティを設定するには、二通りある。
<br />
1. Javaプロセス起動時にパラメータで渡す。
<br />
</p>
<pre>$ java  ... -Dhttp.proxyHost=127.0.0.1 -Dhttp.proxyPort=8080 ...
</pre>
<p class="paragraph">
2. java.lang.System のsetProperty()を使って実行時に動的に設定する。
<br />
</p>
<pre>System.setProperty(&quot;http.proxyHost&quot;, &quot;127.0.0.1&quot;);
System.setPropery(&quot;http.proxyPort&quot;, &quot;8080&quot;);
</pre>

<p class="paragraph">
調べた限りでは、Android において 1. は無理そう。使えるのは 2. の方法のみ。
<br />
</p>

<p class="paragraph">
AndroidでHTTP通信を行う方法としては三種類あるらしい。
<br />
</p>
<ol><li> java.net 系</li>
<li> org.apache.http 系</li>
<li> android.net.http 系</li></ol>

<p class="paragraph">
これら全てが 2. の方法に対応しているか確実には言えないが、Android SDKのReference上にProxy設定について言及があるので、恐らく対応してくれていると思われる。
<br />
</p>
<ul><li> HttpRoute | Android Developers<ul><li> <a class="externallink" href="http://developer.android.com/reference/org/apache/http/conn/routing/HttpRoute.html" target="_blank">http://developer.android.com/reference/org/apache/http/conn/routing/HttpRoute.html</a></li></ul></li></ul>

<p class="paragraph">
ただしこの方法では他のアプリやシステムの全体設定を変更することは出来ない。java.lang.System のsetProperty()はあくまでも当該VMに対する操作である。Androidにおいては一つのアプリは独立したDalvikプロセスとして動作しているため、他のアプリのVMに対して setProperty()を呼ぶことは出来ない(と思われる)。
<br />
</p>

<ul><li> Androidのプロキシ - ,<ul><li> <a class="externallink" href="http://d.hatena.ne.jp/nahate/20091008" target="_blank">http://d.hatena.ne.jp/nahate/20091008</a></li></ul></li></ul>

<h4 id="idbb9232">システム全体あるいは他のアプリのHTTP-Proxyを設定するには</h4>

<p class="paragraph">
Androidの場合、JavaVMで閉じる&quot;Property&quot;とは別に、プラットフォーム全体で共有される&quot;Property&quot;もある。これは起動時に特定のファイルを読み込んで(SQLiteのdatabaseも対象となるかは不明)共有メモリ上に展開し、専用のサービスを介してAndroid専用のIPC(InterProceccCommunication)経由で呼び出す仕組み。
<br />
</p>
<ul><li> just do IT: android property system<ul><li> <a class="externallink" href="http://rxwen.blogspot.com/2010/01/android-property-system.html" target="_blank">http://rxwen.blogspot.com/2010/01/android-property-system.html</a></li></ul></li></ul>

<p class="paragraph">
イメージ：
<br />
</p>
<pre>アプリ &lt;&gt; Android IPC &lt;&gt; サービス &lt;&gt; システムProperty
</pre>

<p class="paragraph">
このプロパティをread/writeする方法として次の３種類がある。
<br />
</p>
<ol><li> Nativeアプリ向けの property_get()/property_set() 関数</li>
<li> Java クラス<ol><li> android.os.SystemProperties (1.5より前?)</li>
<li> android.provider.Settings</li></ol></li>
<li> getprop/setpropコマンド (Android OSに含まれているシェルスクリプトで、adbのシェル上で実行出来る)</li></ol>

<p class="paragraph">
このプロパティの中に &quot;HTTP_PROXY&quot; というそのものズバリの項目がある。
<br />
</p>
<ul><li> Settings.Secure | Android Developers<ul><li> <a class="externallink" href="http://developer.android.com/reference/android/provider/Settings.Secure.html" target="_blank">http://developer.android.com/reference/android/provider/Settings.Secure.html</a></li></ul></li></ul>

<p class="paragraph">
ところがこの項目、通常のAndroidアプリの権限ではReadOnlyとなっており変更が出来ない。
<br />
&quot;/system/&quot;などに置かれている &quot;.prop&quot; はJava Propertyファイル形式のテキストファイルになっており、これにエントリを追加するにしても、当然ながら実機端末ではroot権限が要求される。
<br />
</p>

<p class="paragraph">
Nativeアプリについては未調査だが、もしシステムPropertyのRead/Write許可をサービス側で制御しているのであれば、Native/Javaに関わらずいずれにせよサービス側でブロックされるものと思われる(Nativeアプリの property_get()/property_set()の実体はJavaの場合と同様、IPCを介している)。
<br />
</p>

<p class="paragraph">
AndroidMarketで公開されているProxyアプリがrootを要求するのは、上記事情によりroot権限が必要なためではないかと思われる。
<br />
</p>

<h4 id="idba6876">参考URL</h4>

<p class="paragraph">
Proxy設定関連全般：
<br />
</p>
<ul><li> Let&#039;s talk about Google Android: Set proxy for android web browser<ul><li> <a class="externallink" href="http://discuz-android.blogspot.com/2008/01/set-proxy-for-android-web-browser.html" target="_blank">http://discuz-android.blogspot.com/2008/01/set-proxy-for-android-web-browser.html</a><ul><li> シェルのプロンプトが &quot;#&quot; になっているので、root権限取得後のものと思われる。</li>
<li> /data/data/com.google.android.providers.settings/databases/settings.db にrootシェルでsqlite3から直接http_proxy設定をINSERTしている。</li></ul></li></ul></li>
<li> How do I set a proxy on my Android browser? : Ask Owen<ul><li> <a class="externallink" href="http://askowen.info/2010/01/how-do-i-set-a-proxy-on-my-android-browser/" target="_blank">http://askowen.info/2010/01/how-do-i-set-a-proxy-on-my-android-browser/</a><ul><li> 同上。</li></ul></li></ul></li>
<li> How do I set a proxy in Android phones ??? - Stack Overflow<ul><li> <a class="externallink" href="http://stackoverflow.com/questions/2011432/how-do-i-set-a-proxy-in-android-phones" target="_blank">http://stackoverflow.com/questions/2011432/how-do-i-set-a-proxy-in-android-phones</a><ul><li> Javaからandroid.os.Settings.System経由で Settings.System.HTTP_PROXYに &quot;host:port&quot; 形式で書き込んでいる。</li>
<li> manifestに &#039;&lt;uses-permission android:name=&quot;android.permission.WRITE_SETTINGS&quot; /&gt;&#039; が必要。</li></ul></li></ul></li>
<li> anddev.org ? View topic - I want to configure proxy using code.<ul><li> <a class="externallink" href="http://www.anddev.org/networking-database-problems-f29/i-want-to-configure-proxy-using-code-t4183.html" target="_blank">http://www.anddev.org/networking-database-problems-f29/i-want-to-configure-proxy-using-code-t4183.html</a><ul><li> ContentProviders経由で書き込み。</li></ul></li></ul></li></ul>

<p class="paragraph">
&quot;android.os.SystemProperties&quot;, &quot;System.setProperty()&quot; について：
<br />
</p>
<ul><li> Where is android.os.SystemProperties - Stack Overflow<ul><li> <a class="externallink" href="http://stackoverflow.com/questions/2641111/where-is-android-os-systemproperties" target="_blank">http://stackoverflow.com/questions/2641111/where-is-android-os-systemproperties</a></li></ul></li>
<li> System.setProperty() cannot change system property in Android - Android Developers | Google グループ<ul><li> <a class="externallink" href="http://groups.google.com/group/android-developers/browse_thread/thread/2d75bd8c637a4245" target="_blank">http://groups.google.com/group/android-developers/browse_thread/thread/2d75bd8c637a4245</a></li></ul></li>
<li> SystemProperties available to SDK developer? - Android Developers | Google グループ<ul><li> <a class="externallink" href="http://groups.google.com/group/android-developers/browse_thread/thread/73ca6821ea4df423" target="_blank">http://groups.google.com/group/android-developers/browse_thread/thread/73ca6821ea4df423</a></li></ul></li>
<li> android.os.SystemProperties??? - Android Developers | Google グループ<ul><li> <a class="externallink" href="http://groups.google.com/group/android-developers/browse_thread/thread/2e5d5708f3a94c17" target="_blank">http://groups.google.com/group/android-developers/browse_thread/thread/2e5d5708f3a94c17</a></li></ul></li>
<li> Can not access to the system properties store? - Android Developers | Google グループ<ul><li> <a class="externallink" href="http://groups.google.com/group/android-developers/browse_thread/thread/48e86024e591364c" target="_blank">http://groups.google.com/group/android-developers/browse_thread/thread/48e86024e591364c</a></li></ul></li></ul>

<p class="paragraph">
Android自体のソースコードに手を入れて対処する手法：
<br />
</p>
<ul><li> AndroidアプリケーションのSSL通信をプロキシで解析する(1) ≪ JUMPERZ.NET Blog<ul><li> <a class="externallink" href="http://kanatoko.wordpress.com/2011/02/24/android_hook_ssl_by_proxy/" target="_blank">http://kanatoko.wordpress.com/2011/02/24/android_hook_ssl_by_proxy/</a><ul><li> 記事の最後に、エミュレータでHTTP Proxyを使う場合の注意点について書かれている。</li></ul></li></ul></li>
<li> AndroidアプリケーションのSSL通信をプロキシで解析する(2) ≪ JUMPERZ.NET Blog<ul><li> <a class="externallink" href="http://kanatoko.wordpress.com/2011/03/08/android_hook_ssl_by_proxy2/" target="_blank">http://kanatoko.wordpress.com/2011/03/08/android_hook_ssl_by_proxy2/</a></li></ul></li></ul>

<hr />
<p class="paragraph">
AndroidはLinuxをベースとしています。
<br />
Linuxをベースとしていることは、モダンOSが備えているべき、ユーザー毎の資源へのアクセス制御機能を当然、備えています。
<br />
さて、「システム全体または他のアプリのProxy設定」を変更できるとしたら、それはLinuxベースのシステムに於いてはどのようなユーザー権限でしょうか？
<br />
・・・と考えると、これも当然のことながら root じゃないと駄目だろう、ってことです。
<br />
</p>

<p class="paragraph">
ただそうなると気になるのがAndroid 3.1からWiFi接続時のProxy設定が可能になる点です。
<br />
これがどうやって実現されているのか、こちらが気になるといえば気になります。
<br />
もしかしたら設定アプリが相応の権限で動くようになっているのかもしれません。
<br />
</p>

<p class="paragraph">
root化するのが怖い、保証外になるリスクを無視できない、そんな方向けの思い切った方法としては、root化専用の端末としてNexus Sを購入し、これを使用するという選択肢があります(人に指摘されてこの方法に気づきました)。
<br />
Nexus Sについては開発者向けに簡単にroot化できるようになっています。WiFi接続＋Proxy利用に限ってroot化＋Proxyアプリを入れたNexus Sを使う・・・贅沢な使い方ですが、そういう手法も有りだと思います。
<br />
</p>

<hr class="full_hr" />
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-1104.html" title="技術/Android/WebViewセキュリティメモ1">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-970.html" title="技術/Android/アプリメモ">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-1081.html" title="技術/Android">Up</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-23.html" title="技術">技術</a>&nbsp;]</li>
</ul>
</div>

<div class="data_attrs_post">
original url: https://www.glamenv-septzen.net/view/966<br>
</div>

</div>
<!-- //data_main -->

</div>


</div>
<!-- /content-wrap end -->

<!-- footer start -->
<div id="footer">
Copyright &copy; 2007 - 2025 Masahiko Sakamoto(msakamoto-sf)<br>
License&nbsp;:&nbsp;<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a><br>
Contact&nbsp;:&nbsp;<a target="_blank" href="https://x.com/msakamoto_sf">x(twitter)</a> / <a target="_blank" href="https://github.com/msakamoto-sf/">github</a> / <a class="maillink" href="mailto:&#x73;&#x61;&#x6B;&#x61;&#x6D;&#x6F;&#x74;&#x6F;&#x2E;&#x67;&#x73;&#x79;&#x63;&#x2E;&#x33;&#x73;&#x40;&#x67;&#x6D;&#x61;&#x69;&#x6C;&#x2E;&#x63;&#x6F;&#x6D;">email</a><br>
--&nbsp;Beautiful Icons&nbsp;--<br />
<a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank" title="Mark James Silk icon set 1.3">Mark James Silk icon set 1.3</a> by famfamfam<br />
<a href="http://www.pinvoke.com/" target="_blank" title="Fugue Icons">Fugue Icons</a> by Yusuke Kamiyamane<br />
</div>
<!-- /footer end -->

</div>
<!-- /body end -->

</body>
</html>