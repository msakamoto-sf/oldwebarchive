<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ2, テーマ(Theme)のカスタマイズ - Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</title>
<!-- favicon 2017's reference:
https://developers.google.com/web/fundamentals/design-and-ui/browser-customization/
https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx
https://developer.chrome.com/multidevice/android/installtohomescreen
https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html
-->
<link rel="shortcut icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="apple-touch-icon" sizes="57x57" href="../favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="../favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="../favicons/favicon-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-160x160.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-196x196.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../favicons/favicon-32x32.png" sizes="32x32">

<!-- browserconfig.xml : https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx -->
<meta name="msapplication-TileColor" content="#990000">
<meta name="msapplication-TileImage" content="../favicons/mstile-144x144.png">

<!-- these favicon files were generated by https://ao-system.net/favicongenerator/ , thanks!!(2017-02-18) -->

<style type="text/css"></style>

<link href="./css/pcbrowser.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_plugins.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_wiki.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/print.css" rel="stylesheet" type="text/css" media="print"/>
</head>
<body>
<!-- body start -->
<div class="body">
<div style="display: inline"><a name="pagetop"></a></div>
<div id="header-wrap">
<img src="./images/logo1.jpg" style="float: left; margin-right: 1em;"/>
<a href="./index.html" title="Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)"><img src="./icons/home.png" alt="home"/>&nbsp;Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</a>


<h1 style="margin-bottom: 10px;">JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ2, テーマ(Theme)のカスタマイズ</h1>

<div style="clear: both;"></div>
</div><!-- //header-wrap -->

<!-- content-wrap start -->
<div id="content-wrap"><div class="contents_s">

<!-- data_main -->
<div class="data_main">

<div class="data_attrs_pre">
作成日: 2014-06-01 21:54:59 &nbsp; / &nbsp; last updated at: 2014-06-08 20:13:39<br>
カテゴリ: <a href="category-86.html">ExtJS</a>&nbsp;<a href="category-27.html">JavaScript</a>&nbsp;</div>

<div class="data_body">
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-1291.html" title="JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ1">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-1293.html" title="JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ3, アイコン画像のカスタマイズ">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-162.html" title="JavaScript">JavaScript</a>&nbsp;]</li>
</ul>
<hr class="full_hr" />

<p class="paragraph">
ExtJS4.2以降、Sencha Cmdの導入に伴い、&quot;package&quot;の一種類として Theme を用意する方式になりました。
<br />
<a href="./view-1291.html" >JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ1</a> と同じ環境で、続けてThemeについて練習してみます。
<br />
</p>

<p class="paragraph">
今回の実験環境：
<br />
</p>
<pre class="plugin_pre">
Ubuntu 12.04 LTS (64bit)
ext-4.2.1.883 (GPL版)
Sencha Cmd v4.0.4.84
Ruby (rbenvにて ruby 2.0.0p481 をインストール済み)

/work/www 以下をDocumentRootとしてApacheHTTPDで公開
/work/www/ext-4.2.1.883 にExtJSを展開済み
/work/devtools 以下にSencha Cmdをインストール

Webブラウザによる動作確認：Firefox 29 on Win7 Pro 日本語版
</pre>

<p class="paragraph">
<a href="./view-1291.html" >JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ1</a> の続きですので、 &quot;/work/www/extjs-tests/t1&quot; を &quot;${app.dir}&quot; として参照します。
<br />
</p>

<p class="paragraph">
サンプルコード : <a class="externallink" href="https://github.com/msakamoto-sf/extjs42-senchacmdv4-exercise" target="_blank">https://github.com/msakamoto-sf/extjs42-senchacmdv4-exercise</a>
<br />
</p>


<ul><li><a href="#id9e5f4e">カスタムテーマを作成してみる (sencha generate theme)</a><ul><li><a href="#id8d9a96">生成された直後のテーマのソースツリーを覗いてみる。</a><ul><li><a href="#id1f0a7a">&quot;sencha generate theme&quot; で生成直後の &quot;package.json&quot;</a></li>
<li><a href="#id382af1">&quot;sencha generate theme&quot; で生成直後の &quot;.sencha/package/sencha.cfg&quot;</a></li></ul></li>
<li><a href="#id06a845">★★重要★★ : &quot;Package&quot; と &quot;Theme&quot; のコンセプトについて</a></li>
<li><a href="#ide64290">練習1: ベースとなるテーマを変更してみる</a></li>
<li><a href="#idd3f927">練習2: グローバルな変数、$base-color を変更してみる</a><ul><li><a href="#id888835">&quot;sencha package build&quot; でビルドしてみる</a></li>
<li><a href="#id781df5">&quot;build/.sass-cache/&quot; と &quot;build/temp/&quot; を .gitignoreに追加する</a></li>
<li><a href="#idf3974f">アプリから使ってみる : production環境でのビルド</a></li>
<li><a href="#id69611b">アプリから使ってみる : 画像スクリーンショット</a></li>
<li><a href="#idfcabe2">testingもビルドしてみる : sencha app build testing -c</a></li></ul></li>
<li><a href="#idc36062">練習3: 特定のExtコンポーネントのCSS変数を変更してみる</a></li></ul></li>
<li><a href="#idcd15a6">アプリ固有のカスタマイズを行う (${app.dir</a>/sass)}<ul><li><a href="#id5ef126">&quot;${app.dir</a>/sass&quot; の下の名前空間について}<ul><li><a href="#id38d225">グローバルなCSS変数をアプリ側で上書きするには、じゃぁどこで設定すればよいのか？</a></li></ul></li>
<li><a href="#id43699d">アプリ側でグローバルなCSS変数をカスタマイズする</a></li></ul></li></ul>
<hr />
<h3 id="id9e5f4e">カスタムテーマを作成してみる (sencha generate theme)</h3>

<p class="paragraph">
まず、&quot;sencha generate theme&quot; コマンドでカスタムテーマを作成してみます。
<br />
</p>

<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ sencha generate theme my-custom-theme
Sencha Cmd v4.0.4.84
[INF]
[INF] init-plugin:
[INF]
[INF] cmd-root-plugin.init-properties:
[INF]
[INF] init-properties:
[INF]
[INF] init-sencha-command:
[INF]
[INF] init:
[INF]
[INF] generate-theme-impl:
[INF]
[INF] init-plugin:
[INF]
[INF] init-package-plugin:
[INF]
[INF] generate-package:
[INF]      [echo] Generating package my-custom-theme of type theme to /work/www/extjs-tests/t1/packages/my-custom-theme
[INF] [x-property-file] Updating property file: /work/www/extjs-tests/t1/packages/my-custom-theme/.sencha/package/sencha.cfg
[INF]
[INF] -after-generate-package:
[INF] [x-property-file] Updating property file: /work/www/extjs-tests/t1/packages/my-custom-theme/.sencha/package/sencha.cfg
[INF]
[INF] generate-theme:

msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git stat
# On branch master
# Untracked files:
#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
#
#       packages/
nothing added to commit but untracked files present (use &quot;git add&quot; to track)
</pre>

<p class="paragraph">
&quot;${app.dir}/packages&quot; ディレクトリにテーマ用のソースツリーが生成されました。
<br />
生成された直後の段階で一旦git commitしておきます。こうしておくことで、以降の修正やビルドコマンドで何が変化したのかが明確になります。
<br />
</p>
<pre>$ git add .
$ git commit -m &#039;create my-custom-theme&#039;
</pre>

<h4 id="id8d9a96">生成された直後のテーマのソースツリーを覗いてみる。</h4>

<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ tree -a packages
packages
└── my-custom-theme
    ├── build.xml
    ├── docs
    │   ├── package.png
    │   └── screenshots
    │       └── screenshot-1.png
    ├── examples
    │   └── Readme.md
    ├── licenses
    │   └── Readme.md
    ├── overrides
    │   └── Readme.md
    ├── package.json
    ├── Readme.md
    ├── resources
    │   └── Readme.md
    ├── sass
    │   ├── config.rb
    │   ├── etc
    │   │   ├── all.scss
    │   │   └── Readme.md
    │   ├── example
    │   │   ├── custom.js
    │   │   ├── render.js
    │   │   └── theme.html
    │   ├── Readme.md
    │   ├── src
    │   │   └── Readme.md
    │   └── var
    │       └── Readme.md
    ├── .sencha
    │   └── package
    │       ├── build-impl.xml
    │       ├── build.properties
    │       ├── codegen.json
    │       ├── defaults.properties
    │       ├── find-cmd-impl.xml
    │       ├── init-impl.xml
    │       ├── js-impl.xml
    │       ├── plugin.xml
    │       ├── resources-impl.xml
    │       ├── sass-impl.xml
    │       ├── sencha.cfg
    │       ├── slice-impl.xml
    │       ├── sub-builds.xml
    │       └── testing.properties
    └── src
        └── Readme.md

15 directories, 33 files
</pre>

<p class="paragraph">
今回の記事で関連してくるポイントに絞って紹介します。いずれも開発者による編集がOKなファイル・ディレクトリです。
<br />
</p>

<table>
	<tr>
		<td>${app.dir}/packages/my-custom-theme 以下</td>
		<td>解説</td>
	</tr>
	<tr>
		<td>package.json</td>
		<td>パッケージのメタ情報が定義されているJSONファイル。</td>
	</tr>
	<tr>
		<td>.sencha/package/sencha.cfg</td>
		<td>SASSの設定など、テーマのビルドで必要なSencha Cmdが参照する設定ファイル。</td>
	</tr>
	<tr>
		<td>sass/var/</td>
		<td>SASSの変数を定義するディレクトリ。</td>
	</tr>
	<tr>
		<td>sass/src/</td>
		<td>SASSのルールとUI mixinを定義するディレクトリ。 <br /> &quot;sass/var/&quot; で定義した変数を参照できる。</td>
	</tr>
	<tr>
		<td>sass/etc/</td>
		<td>ユーティリティ的な関数やmixinを定義するディレクトリ。</td>
	</tr>
</table>

<p class="paragraph">
ポイント：
<br />
</p>
<ul><li> ExtJSが提供しているテーマのうち、どれをベースとしているのかを、package.json の &quot;extend&quot; で指定しています。<ul><li> 今回の生成例では、&quot;ext-theme-classic&quot; になってました。</li></ul></li>
<li> &quot;sass/var/&quot;, &quot;sass/src/&quot; の下に&quot;scss&quot;ファイルを配置する。この時、Extコンポーネントのクラス名から &quot;Ext.&quot; を外した文字列を、ファイル・ディレクトリ階層を一致させる。<ul><li> 例1：&quot;Ext.Component&quot; でコンポーネント全体のグローバル変数をカスタマイズしたい場合は、&quot;Ext.&quot;を外して、 &quot;sass/var/Component.scss&quot; で定義する。</li>
<li> 例2：&quot;Ext.panel.Panel&quot; のSASS変数をカスタマイズしたい場合は、&quot;Ext.&quot;を外した &quot;panel.Panel&quot; に対応する &quot;sass/var/panel/Panel.scss&quot; で定義する。</li></ul></li>
<li> つまり、&quot;sass/var/&quot;, &quot;sass/src/&quot; の名前空間は &quot;Ext&quot; になっている。これは、&quot;.sencha/package/sencha.cfg&quot; の &quot;package.sass.namespace=Ext&quot; という設定による。<ul><li> 名前空間をExtから解放して、フルパス指定にしたければ、&quot;package.sass.namespace=&quot; という空の値を設定する。これにより、&quot;sass/var/Ext/panel/Panel.scss&quot; というファイル名の命名規約になる。</li></ul></li></ul>

<p class="paragraph">
このうち、生成直後は &quot;sass/var/&quot;, &quot;sass/src/&quot; はReadme.mdが入っているだけの空っぽのディレクトリです。 &quot;sass/etc/all.scss&quot; がありますが、これは生成直後は0バイトの空っぽのファイルです。
<br />
そのため、&quot;package.json&quot; と &quot;.sencha/package/sencha.cfg&quot; だけ中身を見てみます。
<br />
</p>

<p class="paragraph">
なお、GlobalなSASS変数をComponent.scssに記述するというのは、以下の画像の赤枠囲みのように、ExtJSの&quot;Global_CSS&quot;のドキュメントからも確認できます。
<br />
<a href="./../images/20140601_extjs42_theming/extjs42-theme-01_global_is_ext_component.png" title="" target="_blank"><img src="./../images/20140601_extjs42_theming/extjs42-theme-01_global_is_ext_component.png" alt="" title=""  /></a>
<br />
</p>

<h5 id="id1f0a7a">&quot;sencha generate theme&quot; で生成直後の &quot;package.json&quot;</h5>

<p class="paragraph">
パッケージのメタ情報が記載されています。必要に応じて適当な内容に修正します。
<br />
</p>

<pre class="plugin_pre">
{
    &quot;name&quot;: &quot;my-custom-theme&quot;,
    &quot;type&quot;: &quot;theme&quot;,
    &quot;creator&quot;: &quot;anonymous&quot;,
    &quot;summary&quot;: &quot;Short summary&quot;,
    &quot;detailedDescription&quot;: &quot;Long description of package&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;compatVersion&quot;: &quot;1.0.0&quot;,
    &quot;format&quot;: &quot;1&quot;,
    &quot;local&quot;: true,
    &quot;requires&quot;: [],
    &quot;extend&quot;: &quot;ext-theme-classic&quot;
}
</pre>

<h5 id="id382af1">&quot;sencha generate theme&quot; で生成直後の &quot;.sencha/package/sencha.cfg&quot;</h5>

<p class="paragraph">
色々、ソースディレクトリや出力ディレクトリを指定しているのが分かります。コメントである程度解説も書かれています。
<br />
</p>

<pre class="plugin_pre">
# The name of the package - should match the &quot;name&quot; property in ./package.json
#
package.name=my-custom-theme

# The namespace to which this package&#039;s SASS corresponds. The default value of
# &quot;Ext&quot; means that the files in ./sass/src (and ./sass/var) match classes in
# the Ext&quot; root namespace. In other words, &quot;Ext.panel.Panel&quot; maps to
# ./sass/src/panel/Panel.scss.
#
# To style classes from any namespace, set this to blank. If this is blank,
# then to style &quot;Ext.panel.Panel&quot; you would put SASS in
# ./sass/src/Ext/panel/Panel.scss.
#
package.sass.namespace=Ext

# This is the comma-separated list of folders where classes reside. These
# classes must be explicitly required to be included in the build.
#
package.classpath=${package.dir}/src

# This is the comma-separated list of folders of overrides. All files in this
# path will be given a tag of &quot;packageOverrides&quot; which is automatically
# required in generated apps by the presence of this line in app.js:
#
#   //@require @packageOverrides
#
package.overrides=${package.dir}/overrides

# This is the folder where SASS &quot;src&quot; resides. This is searched for SCSS
# files that match the JavaScript classes used by the application.
#
package.sass.srcpath=${package.dir}/sass/src

# This is the folder where SASS &quot;vars&quot; resides. This is searched for SCSS
# files that match the JavaScript classes used by the application.
#
package.sass.varpath=${package.dir}/sass/var

# This file is automatically imported into the SASS build before &quot;vars&quot;.
#
package.sass.etcpath=${package.dir}/sass/etc/all.scss

# This is the folder in which to place &quot;sencha packaage build&quot; output.
#
package.build.dir=${package.dir}/build

# The folder that contains example application(s) for this package.
#
package.examples.dir=${package.dir}/examples

# The folder that contains sub-packages of this package. Only valid for &quot;framework&quot;
# package type.
#
package.subpkgs.dir=${package.dir}/packages

#==============================================================================
# Custom Properties - Place customizations below this line to avoid merge
# conflicts with newer versions

package.cmd.version=4.0.4.84

package.framework=ext
</pre>

<h4 id="id06a845">★★重要★★ : &quot;Package&quot; と &quot;Theme&quot; のコンセプトについて</h4>

<p class="paragraph">
&quot;Theme&quot; を作成したら、&quot;packages&quot; の下にソースツリーが生成されました。
<br />
これは、Sencha Cmdにおいて、アプリケーションを拡張するために &quot;Package&quot; という考え方が導入され、テーマによるCSSや画像アセットは &quot;Package&quot; の一形態として扱われるようになったためのようです。
<br />
後述しますが、&quot;Theme&quot;が制御するスコープは基本的にはExtコンポーネント全体になります。
<br />
Extコンポーネント全体の見栄えを制御する「テーマ」をpackageとしてまとめることで、テーマ単体で他のアプリと共有したり、マーケットプレイスで公開することが可能となります。
<br />
</p>

<p class="paragraph">
この点は、&quot;sencha generate workspace&quot;によりworkspaceの単位で開発を始めるとより明確になります。詳しくはExtJSのドキュメントで、&quot;Components&quot; の &quot;Theming&quot; を参照して下さい。
<br />
</p>

<p class="paragraph">
一方で、そのアプリケーション固有でテーマを微調整したい、というケースもあります。その場合には、packageとしてのテーマではなく、アプリの &quot;${app.dir}/sass/(src|var)&quot; で調整することが可能です。
<br />
</p>

<h4 id="ide64290">練習1: ベースとなるテーマを変更してみる</h4>

<p class="paragraph">
&quot;my-custom-theme&quot;は、生成直後はpackage.jsonで &quot;ext-theme-classic&quot; をベースとしています。これを、試しに、&quot;ext-theme-neptune&quot; をベースとしたものに変更してみます。
<br />
</p>

<p class="paragraph">
&quot;${app.dir}/packages/my-custom-theme/package.json&quot; の
<br />
</p>
<pre>&quot;extend&quot;: &quot;ext-theme-classic&quot;
</pre>
<p class="paragraph">
を
<br />
</p>
<pre>&quot;extend&quot;: &quot;ext-theme-neptune&quot;
</pre>
<p class="paragraph">
に修正します。
<br />
</p>

<p class="paragraph">
この後、&quot;sencha app refresh&quot; を実行します。これにより、開発用の &quot;${app.dir}/bootstrap.js&quot; が更新されます。
<br />
・・・が・・・
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ sencha app refresh

(...)

msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git stat
# On branch master
# Changes not staged for commit:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#       modified:   bootstrap.js
#       modified:   packages/my-custom-theme/package.json
#
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)


msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git diff
diff --git a/bootstrap.js b/bootstrap.js
index 7bbaae2..d1b28ba 100644
--- a/bootstrap.js
+++ b/bootstrap.js
@@ -412,7 +412,6 @@ Ext.ClassManager.addNameAlternateMappings({
   ],
   &quot;Ext.grid.RowEditor&quot;: [],
   &quot;Ext.grid.RowEditorButtons&quot;: [],
-  &quot;Ext.grid.Scroller&quot;: [],
   &quot;Ext.grid.View&quot;: [],
   &quot;Ext.grid.ViewDropZone&quot;: [],
   &quot;Ext.grid.column.Action&quot;: [
@@ -1270,7 +1269,6 @@ Ext.ClassManager.addNameAliasMappings({
   &quot;Ext.grid.RowEditorButtons&quot;: [
     &quot;widget.roweditorbuttons&quot;
   ],
-  &quot;Ext.grid.Scroller&quot;: [],
   &quot;Ext.grid.View&quot;: [
     &quot;widget.gridview&quot;
   ],
diff --git a/packages/my-custom-theme/package.json b/packages/my-custom-theme/package.json
index 0c10f6d..6fb5440 100644
--- a/packages/my-custom-theme/package.json
+++ b/packages/my-custom-theme/package.json
@@ -9,5 +9,5 @@
     &quot;format&quot;: &quot;1&quot;,
     &quot;local&quot;: true,
     &quot;requires&quot;: [],
-    &quot;extend&quot;: &quot;ext-theme-classic&quot;
+    &quot;extend&quot;: &quot;ext-theme-neptune&quot;
 }
</pre>

<p class="paragraph">
bootstrap.jsについて、単に &quot;Ext.grid.Scroller&quot; が削られただけで、今の時点では大きな変化はありませんでした。(index.htmlで ext-all-dev.js を使うようになったのが影響してるか？)
<br />
</p>

<h4 id="idd3f927">練習2: グローバルな変数、$base-color を変更してみる</h4>

<p class="paragraph">
グローバルな変数、$base-colorを変更してみます。
<br />
&quot;sass/var/&quot; の下に、Global_CSSのドキュメントにあるように &quot;Component.scss&quot; ファイルを作成し、以下の一行を定義します。この辺りの流れは、ExtJSドキュメントの&quot;Components&quot; -&gt; &quot;Theming&quot; を参考にしてます。
<br />
また、個人的にはExtJSのデフォルトのフォントサイズはやや小さめな気がしてますので、16pxにしてみます。$font-size グローバル変数を追加します。
<br />
&quot;${app.dir}/packages/my-custom-theme/sass/var/Component.scss&quot;:
<br />
</p>
<pre>$base-color: #317040 !default;
$font-size: 16px !default;
</pre>

<h5 id="id888835">&quot;sencha package build&quot; でビルドしてみる</h5>

<p class="paragraph">
この段階で、一度ビルドしてみます。 &quot;${app.dir}/packages/my-custom-theme/&quot; に移動して、&quot;sencha package build&quot; コマンドを実行します。
<br />
（※なお、今回は例としてパッケージだけのビルドを行っていますが、後半でExt.panel.PanelのCSS変数のカスタマイズではいきなり &quot;sencha app build&quot; で一気にパッケージのビルドもじっこうしてます）
<br />
</p>

<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ cd packages/my-custom-theme/
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1/packages/my-custom-theme$ sencha package build
Sencha Cmd v4.0.4.84
[INF]
[INF] init-plugin:
[INF]
[INF] init-package-plugin:
[INF]
[INF] package-build:
[INF]
[INF] -before-init-local:
[INF]
[INF] -init-local:
[INF]
[INF] -after-init-local:
[INF]
[INF] init-local:
[INF]
[INF] find-cmd-in-path:
[INF]
[INF] find-cmd-in-environment:
[INF]
[INF] find-cmd-in-shell:
[INF]
[INF] init-cmd:
[INF]      [echo] Using Sencha Cmd from /work/devtools/Sencha/Cmd/4.0.4.84 for /work/www/extjs-tests/t1/packages/my-custom-theme/build.xml
[INF]
[INF] -before-init:
[INF]
[INF] -init:
[INF]
[INF] apply-version:
[INF] Initializing Sencha Cmd ant environment
[INF] Adding antlib taskdef for com/sencha/command/compass/ant/antlib.xml
[WRN] Specified property file /work/www/extjs-tests/t1/packages/my-custom-theme/.sencha/package/production.properties does not exist
[INF]
[INF] -after-init:
[INF]
[INF] -before-init-defaults:
[INF]
[INF] -init-defaults:
[INF]
[INF] -after-init-defaults:
[INF]
[INF] init:
[INF]
[INF] -before-build:
[INF]
[INF] js:
[INF]
[INF] -before-js:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -init-compile-js:
[INF]
[INF] -compile-js-debug:
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/overrides
[INF] Concatenating output to file /work/www/extjs-tests/t1/packages/my-custom-theme/build/my-custom-theme-debug.js
[INF]
[INF] -compile-js-non-debug:
[INF] Compressing data with YuiJavascriptCompressor
[INF] Concatenating output to file /work/www/extjs-tests/t1/packages/my-custom-theme/build/my-custom-theme.js
[INF]
[INF] -js:
[INF]
[INF] -after-js:
[INF]
[INF] inherit-resources:
[INF]
[INF] -before-inherit-resources:
[INF]
[INF] -inherit-resources:
[INF]      [echo] Merging resources from base package /work/www/extjs-tests/t1/ext/packages/ext-theme-base
[INF]      [copy] Copying 1 file to /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources
[INF]      [echo] Merging resources from base package /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral
[INF]      [copy] Copying 1 file to /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources
[INF]      [echo] Merging resources from base package /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune
[INF]      [copy] Copying 179 files to /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources
[INF]
[INF] -after-inherit-resources:
[INF]
[INF] copy-resources:
[INF]
[INF] -before-copy-resources:
[INF]
[INF] -copy-resources:
[INF]      [echo] Merging resources from current package /work/www/extjs-tests/t1/packages/my-custom-theme/resources
[INF]      [copy] Copying 1 file to /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources
[INF]
[INF] -after-copy-resources:
[INF]
[INF] sass:
[INF]
[INF] -before-sass:
[INF]
[INF] -init-sass-compiler:
[INF]
[INF] -compile-sass-rtl:
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/overrides
[INF] writing sass content to /work/www/extjs-tests/t1/packages/my-custom-theme/build/my-custom-theme-all-rtl-debug.scss
[INF] writing sass content to /work/www/extjs-tests/t1/packages/my-custom-theme/build/config.rb
[INF]
[INF] -compile-sass-ltr:
[INF] writing sass content to /work/www/extjs-tests/t1/packages/my-custom-theme/build/my-custom-theme-all-debug.scss
[INF]
[INF] -compile-sass:
[INF]
[INF] -compass-compile:
[INF] executing compass using system installed ruby runtime
   create resources/my-custom-theme-all-debug.css
   create resources/my-custom-theme-all-rtl-debug.css
[INF]
[INF] -compile-css:
[INF] srcfile: /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources/my-custom-theme-all-debug.css (720509 bytes)
[INF] outfile: /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources/my-custom-theme-all.css
[INF] Compressed size 318231 bytes. Saved 402278 bytes (55 %)
[INF] srcfile: /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources/my-custom-theme-all-rtl-debug.css (737657 bytes)
[INF] outfile: /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources/my-custom-theme-all-rtl.css
[INF] Compressed size 324254 bytes. Saved 413403 bytes (56 %)
[INF]
[INF] -sass:
[INF]
[INF] -after-sass:
[INF]
[INF] slice:
[INF]
[INF] -before-slice:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -generate-slicer-bootstrap:
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/overrides
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/packages/my-custom-theme/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/packages/my-custom-theme/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/packages/my-custom-theme/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/packages/my-custom-theme/sass/example/bootstrap.js
[INF]
[INF] -update-slicer-css:
[INF]
[INF] -capture-theme-image:
[INF]      [echo] Capture theme image to /work/www/extjs-tests/t1/packages/my-custom-theme/build/theme-capture.png
[INF] Capturing theme image
[INF] loading page /work/www/extjs-tests/t1/packages/my-custom-theme/sass/example/theme.html
Capturing screenshot
Saving slicer widget manifest
Capture complete

[INF] Capture complete
[INF]
[INF] -slice-theme-images:
[INF]      [echo] Slicing theme images to /work/www/extjs-tests/t1/packages/my-custom-theme/build/resources
[INF] Slicing images...
[INF] Slicing complete - generated 0 images
[INF]
[INF] -slice:
[INF]
[INF] -after-slice:
[INF]
[INF] subpkgs:
[INF]
[INF] examples:
[INF]
[INF] -before-examples:
[INF]
[INF] -examples:
[INF]
[INF] -after-examples:
[INF]
[INF] pkg:
[INF]
[INF] -before-pkg:
[INF]
[INF] -pkg:
[INF] Package will not be signed: local repo is anonymous
[INF]       [zip] Building zip: /work/www/extjs-tests/t1/build/my-custom-theme/my-custom-theme.pkg
[INF] [x-make-pkg] Package is not signed
[INF]
[INF] -after-pkg:
[INF]
[INF] -build:
[INF]
[INF] -after-build:
[INF]
[INF] build:
</pre>

<p class="paragraph">
この段階で、どんな変更があったか見てみます。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1/packages/my-custom-theme$ cd ../..

msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git status
# On branch master
# Changes not staged for commit:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#       modified:   packages/my-custom-theme/package.json
#
# Untracked files:
#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
#
#       build/my-custom-theme/
#       packages/my-custom-theme/build/
#       packages/my-custom-theme/sass/example/bootstrap.js
#       packages/my-custom-theme/sass/example/example.css
#       packages/my-custom-theme/sass/var/Component.scss
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre>

<p class="paragraph">
まず、&quot;build/(package名)/&quot; の下には、&quot;my-custome-theme.pkg&quot; という名前でzipファイルが生成されています。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ tree build/my-custom-theme/
build/my-custom-theme/
└── my-custom-theme.pkg

0 directories, 1 file

msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ file build/my-custom-theme/my-custom-theme.pkg
build/my-custom-theme/my-custom-theme.pkg: Zip archive data, at least v1.0 to extract
</pre>

<p class="paragraph">
&quot;packages/(package名)/build/&quot; の下には、パッケージングされる前のビルド成果物が生成されています。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ tree packages/my-custom-theme/build/
packages/my-custom-theme/build/
├── config.rb
├── my-custom-theme-all-debug.scss
├── my-custom-theme-all-rtl-debug.scss
├── my-custom-theme-debug.js
├── my-custom-theme.js
├── resources
│   ├── images
│   │   ├── button
          (... &quot;ext-4.2.1.883/resources/ext-theme-neptune/images&quot; 以下から画像がコピーされていた)
│   │   └── util
│   │       └── splitter
│   │           ├── mini-bottom.png
│   │           ├── mini-left.png
│   │           ├── mini-right.png
│   │           └── mini-top.png
│   ├── my-custom-theme-all.css
│   ├── my-custom-theme-all-debug.css
│   ├── my-custom-theme-all-rtl.css
│   ├── my-custom-theme-all-rtl-debug.css
│   └── Readme.md
├── .sass-cache
│   ├── 00aa2521e5860d81b4dcfebe199828d56f79ee2f
     (... Extコンポーネント毎のscssファイルがキャッシュされている？)
│   └── ff54d586624bc15a274bd3ae3b187302047e49a1
│       ├── Header.scssc
│       ├── Panel.scssc
│       ├── Table.scssc
│       └── Tool.scssc
├── temp
│   └── package.json
├── theme-capture.json
└── theme-capture.png

22 directories, 191 files
</pre>

<p class="paragraph">
ポイント：
<br />
</p>
<ul><li> packages/my-custom-theme/build/resources/ の下に、実際に使われるCSSや画像ファイルが生成された。</li>
<li> my-custom-theme-all.css には &quot;-debug&quot; や &quot;-rtl&quot;, &quot;-rtl-debug&quot; がついたバリエーションがある。ext/以下と同様、無印が最適化されたCSSで、&quot;-debug&quot; 付きは人間が読めるCSSになっている。</li></ul>

<h5 id="id781df5">&quot;build/.sass-cache/&quot; と &quot;build/temp/&quot; を .gitignoreに追加する</h5>

<p class="paragraph">
&quot;${app.dir}/packages/my-custom-theme/.gitignore&quot; : 以下の内容で追加
<br />
</p>
<pre>build/.sass-cache/
build/temp/
</pre>
<p class="paragraph">
→
<br />
</p>
<pre>msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git add packages/my-custom-theme/.gitignore
</pre>

<p class="paragraph">
ここまで出来た段階で、一旦git commitします。
<br />
</p>
<pre>msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git add .
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git commit -m &#039;build my-custom-theme 1st time.&#039;
</pre>

<h5 id="idf3974f">アプリから使ってみる : production環境でのビルド</h5>

<p class="paragraph">
では、ビルドしたテーマをアプリから使ってみます。アプリの &quot;sencha.cfg&quot; で &quot;app.theme&quot; の設定値を今回作成した &quot;my-custom-theme&quot; に変更して、ビルドしなおしてみます。
<br />
&quot;${app.dir}/.sencha/app/sencha.cfg&quot; :
<br />
</p>
<pre class="plugin_pre">
...
app.theme=ext-theme-classic
→
app.theme=my-custom-theme
...
</pre>

<p class="paragraph">
念のため &quot;sencha app refresh&quot; した後、&quot;sencha ant clean&quot; で一旦ビルド内容をクリアして、&quot;sencha app build&quot; してみます。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ sencha app build
Sencha Cmd v4.0.4.84
[INF]
[INF] init-plugin:
[INF]
[INF] cmd-root-plugin.init-properties:
[INF]
[INF] init-properties:
[INF]
[INF] init-sencha-command:
[INF]
[INF] init:
[INF]
[INF] app-build-impl:
[INF]
[INF] -before-init-local:
[INF]
[INF] -init-local:
[INF]
[INF] -after-init-local:
[INF]
[INF] init-local:
[INF]
[INF] find-cmd-in-path:
[INF]
[INF] find-cmd-in-environment:
[INF]
[INF] find-cmd-in-shell:
[INF]
[INF] init-cmd:
[INF]      [echo] Using Sencha Cmd from /work/devtools/Sencha/Cmd/4.0.4.84 for /work/www/extjs-tests/t1/build.xml
[INF]
[INF] -before-init:
[INF]
[INF] -init:
[INF] Initializing Sencha Cmd ant environment
[INF] Adding antlib taskdef for com/sencha/command/compass/ant/antlib.xml
[INF]
[INF] -after-init:
[INF]
[INF] -before-init-defaults:
[INF]
[INF] -init-defaults:
[INF]
[INF] -after-init-defaults:
[INF]
[INF] -init-compiler:
[INF]
[INF] init:
[INF]
[INF] -before-build:
[INF]
[INF] refresh:
[INF]
[INF] -before-refresh:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF] Loading app json manifest...
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/app
[INF] Loading classpath entry /work/www/extjs-tests/t1/app.js
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/app
[WRN] C1000: Rhino Parse Warning (Trailing comma is not legal in an ECMA-262 object initializer =&gt;     },{) -- /work/www/extjs-tests/t1/app/view/Main.js:25:5
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/app
[INF] Concatenating output to file /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/cmd-packages.js
[INF] Adding external reference : @full-page =&gt; @overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/cmd-packages.js
[INF] Adding external reference : Ext.util.Observable =&gt; /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/cmd-packages.js
[INF]
[INF] -refresh-app:
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending content to /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending content to /work/www/extjs-tests/t1/bootstrap.json
[INF]
[INF] -refresh:
[INF]
[INF] -after-refresh:
[INF]
[INF] resolve:
[INF]
[INF] js:
[INF]
[INF] -before-js:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -compile-js:
[INF] Loading classpath entry /work/devtools/Sencha/Cmd/4.0.4.84/plugins/src
[INF] Loading classpath entry /work/devtools/Sencha/Cmd/4.0.4.84/plugins/ext/src
[INF] Loading classpath entry /work/devtools/Sencha/Cmd/4.0.4.84/plugins/ext/4.2/src
[INF] Building optimized concatenated output..
[INF] Compressing data with YuiJavascriptCompressor
[INF] Concatenating output to file /work/www/extjs-tests/t1/build/production/MyApp/app.js
[INF]
[INF] -js:
[INF]
[INF] -after-js:
[INF]
[INF] resources:
[INF]
[INF] -before-resources:
[INF]
[INF] -before-inherit-resources:
[INF]
[INF] -before-copy-resources:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -resources:
[INF] merging resources into /work/www/extjs-tests/t1/build/production/MyApp/resources
[INF] merged 179 resources into /work/www/extjs-tests/t1/build/production/MyApp/resources
[INF] merging resources into /work/www/extjs-tests/t1/build/production/MyApp
[INF] merged 0 resources into /work/www/extjs-tests/t1/build/production/MyApp
[INF]
[INF] -after-copy-resources:
[INF]
[INF] -after-inherit-resources:
[INF]
[INF] -after-resources:
[INF]
[INF] sass:
[INF]
[INF] -before-sass:
[INF]
[INF] -compass-compile-theme-package:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -compile-sass:
[INF] writing sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/sass/MyApp-all.scss
[INF] appending sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/sass/MyApp-all.scss
[INF] appending sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/sass/MyApp-all.scss
[INF] writing sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/sass/config.rb
[INF] executing compass using system installed ruby runtime
   create MyApp-all.css
[INF]      [echo] Compressing /work/www/extjs-tests/t1/build/production/MyApp/resources/MyApp-all.css to /work/www/extjs-tests/t1/build/production/MyApp/resours
[INF] srcfile: /work/www/extjs-tests/t1/build/production/MyApp/resources/MyApp-all.css (633282 bytes)
[INF] outfile: /work/www/extjs-tests/t1/build/production/MyApp/resources/MyApp-all.css
[INF] Compressed size 278417 bytes. Saved 354865 bytes (56 %)
[INF]
[INF] -compass-compile-theme-folders:
[INF]
[INF] -compass-compile-sass-dir:
[INF]
[INF] -compass-compile:
[INF]
[INF] -sass:
[INF]
[INF] -after-sass:
[INF]
[INF] slice:
[INF]
[INF] -before-slice:
[INF]
[INF] -slice-images:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -slice-app-theme:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -compile-slicer-sass:
[INF] writing sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/slicer-temp/MyApp-example.scss
[INF] writing sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/slicer-temp/config.rb
[INF]
[INF] -compass-compile-slicer-css:
[INF] executing compass using system installed ruby runtime
   create MyApp-example.css
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF]      [echo] Capture theme image to /work/www/extjs-tests/t1/build/temp/production/MyApp/slicer-temp/theme-capture.png
[INF] Capturing theme image
[INF] loading page /work/www/extjs-tests/t1/sass/example/theme.html
Capturing screenshot
Saving slicer widget manifest
Capture complete

[INF] Capture complete
[INF]      [echo] Slicing theme images to /work/www/extjs-tests/t1/build/production/MyApp/resources
[INF] Slicing images...
[INF] Slicing complete - generated 193 images
[INF]
[INF] -slice:
[INF]
[INF] -after-slice:
[INF]
[INF] page:
[INF]
[INF] -before-page:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -copy-app-resources:
[INF]
[INF] -generate-deltas:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -build-standalone-json-manifest:
[INF]
[INF] -build-output-page:
[INF]
[INF] -build-output-markup-page:
[INF] Building output markup to /work/www/extjs-tests/t1/build/production/MyApp/index.html
[INF]
[INF] -generate-cache-manifest:
[INF]
[INF] -page:
[INF]
[INF] -after-page:
[INF]
[INF] native-package:
[INF]
[INF] -build:
[INF]
[INF] -after-build:
[INF]
[INF] build:
[INF]
[INF] app-build:

</pre>

<p class="paragraph">
差分を見てみます。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git status
# On branch master
# Changes not staged for commit:
#   (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#       modified:   .sencha/app/sencha.cfg
#       modified:   bootstrap.css
#       modified:   bootstrap.js
#       modified:   build/production/MyApp/app.js
#       modified:   build/production/MyApp/resources/MyApp-all.css
#       modified:   build/production/MyApp/resources/Readme.md
#       deleted:    build/production/MyApp/resources/images/boundlist/trigger-arrow.png
       (... この辺は、画像ファイルの変更・削除になります)
#       modified:   build/production/MyApp/resources/images/window/window-default-sides.gif
#       modified:   sass/example/bootstrap.js
#       modified:   sass/example/example.css
#
# Untracked files:
#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
#
#       build/production/MyApp/resources/images/btn/btn-default-toolbar-large-bg.gif
       (... この辺は、画像ファイルの追加になります)
#       build/production/MyApp/resources/images/util/splitter/mini-right.png
#       build/production/MyApp/resources/images/util/splitter/mini-top.png
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre>

<p class="paragraph">
差分抜粋：boostrap.css : これは、直前にビルドしたのはtesting環境だったため、production環境に更新されただけ。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git diff bootstrap.css
diff --git a/bootstrap.css b/bootstrap.css
index 3837424..5d9ec26 100644
--- a/bootstrap.css
+++ b/bootstrap.css
@@ -5,5 +5,5 @@
  * to the most recently built CSS file for the application to allow index.html
  * in the development directory to load properly (i.e., &quot;dev mode&quot;).
  */
-@import &#039;build/testing/MyApp/resources/MyApp-all.css&#039;;
+@import &#039;build/production/MyApp/resources/MyApp-all.css&#039;;
</pre>


<p class="paragraph">
差分抜粋：boostrap.js : neptuneテーマに関連した定義が変更・追加されている。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git diff bootstrap.js
diff --git a/bootstrap.js b/bootstrap.js
index 7bbaae2..b206dc9 100644
--- a/bootstrap.js
+++ b/bootstrap.js
@@ -8,6 +8,7 @@ Ext.Loader.addClassPathMappings({
   &quot;Ext&quot;: &quot;ext/src&quot;,
   &quot;Ext.Msg&quot;: &quot;ext/src/window/MessageBox.js&quot;,
   &quot;Ext.rtl.EventObjectImpl&quot;: &quot;ext/src/rtl/EventObject.js&quot;,
+  &quot;ExtThemeNeptune&quot;: &quot;ext/packages/ext-theme-neptune/overrides&quot;,
   &quot;MyApp&quot;: &quot;app&quot;
 });
 Ext.ClassManager.addNameAlternateMappings({
@@ -412,7 +413,6 @@ Ext.ClassManager.addNameAlternateMappings({
   ],
   &quot;Ext.grid.RowEditor&quot;: [],
   &quot;Ext.grid.RowEditorButtons&quot;: [],
-  &quot;Ext.grid.Scroller&quot;: [],
   &quot;Ext.grid.View&quot;: [],
   &quot;Ext.grid.ViewDropZone&quot;: [],
   &quot;Ext.grid.column.Action&quot;: [
@@ -828,6 +828,22 @@ Ext.ClassManager.addNameAlternateMappings({
   &quot;Ext.window.Window&quot;: [
     &quot;Ext.Window&quot;
   ],
+  &quot;ExtThemeNeptune.Component&quot;: [],
+  &quot;ExtThemeNeptune.container.ButtonGroup&quot;: [],
+  &quot;ExtThemeNeptune.form.field.HtmlEditor&quot;: [],
+  &quot;ExtThemeNeptune.grid.RowEditor&quot;: [],
+  &quot;ExtThemeNeptune.grid.column.RowNumberer&quot;: [],
+  &quot;ExtThemeNeptune.layout.component.Dock&quot;: [],
+  &quot;ExtThemeNeptune.menu.Menu&quot;: [],
+  &quot;ExtThemeNeptune.menu.Separator&quot;: [],
+  &quot;ExtThemeNeptune.panel.Panel&quot;: [],
+  &quot;ExtThemeNeptune.panel.Table&quot;: [],
+  &quot;ExtThemeNeptune.panel.Tool&quot;: [],
+  &quot;ExtThemeNeptune.picker.Month&quot;: [],
+  &quot;ExtThemeNeptune.resizer.Splitter&quot;: [],
+  &quot;ExtThemeNeptune.tab.Tab&quot;: [],
+  &quot;ExtThemeNeptune.toolbar.Paging&quot;: [],
+  &quot;ExtThemeNeptune.toolbar.Toolbar&quot;: [],
   &quot;MyApp.Application&quot;: [],
   &quot;MyApp.controller.Main&quot;: [],
   &quot;MyApp.view.Main&quot;: [],
@@ -1270,7 +1286,6 @@ Ext.ClassManager.addNameAliasMappings({
   &quot;Ext.grid.RowEditorButtons&quot;: [
     &quot;widget.roweditorbuttons&quot;
   ],
-  &quot;Ext.grid.Scroller&quot;: [],
   &quot;Ext.grid.View&quot;: [
     &quot;widget.gridview&quot;
   ],
@@ -1820,6 +1835,22 @@ Ext.ClassManager.addNameAliasMappings({
   &quot;Ext.window.Window&quot;: [
     &quot;widget.window&quot;
   ],
+  &quot;ExtThemeNeptune.Component&quot;: [],
+  &quot;ExtThemeNeptune.container.ButtonGroup&quot;: [],
+  &quot;ExtThemeNeptune.form.field.HtmlEditor&quot;: [],
+  &quot;ExtThemeNeptune.grid.RowEditor&quot;: [],
+  &quot;ExtThemeNeptune.grid.column.RowNumberer&quot;: [],
+  &quot;ExtThemeNeptune.layout.component.Dock&quot;: [],
+  &quot;ExtThemeNeptune.menu.Menu&quot;: [],
+  &quot;ExtThemeNeptune.menu.Separator&quot;: [],
+  &quot;ExtThemeNeptune.panel.Panel&quot;: [],
+  &quot;ExtThemeNeptune.panel.Table&quot;: [],
+  &quot;ExtThemeNeptune.panel.Tool&quot;: [],
+  &quot;ExtThemeNeptune.picker.Month&quot;: [],
+  &quot;ExtThemeNeptune.resizer.Splitter&quot;: [],
+  &quot;ExtThemeNeptune.tab.Tab&quot;: [],
+  &quot;ExtThemeNeptune.toolbar.Paging&quot;: [],
+  &quot;ExtThemeNeptune.toolbar.Toolbar&quot;: [],
   &quot;MyApp.Application&quot;: [],
   &quot;MyApp.controller.Main&quot;: [],
   &quot;MyApp.view.Main&quot;: [
@@ -1831,8 +1862,25 @@ Ext.ClassManager.addNameAliasMappings({
   ]
 });
 Ext.setVersion(&quot;ext-theme-base&quot;, &quot;4.2.1&quot;);
-Ext.setVersion(&quot;ext-theme-classic&quot;, &quot;4.2.1&quot;);
+Ext.setVersion(&quot;ext-theme-neptune&quot;, &quot;4.2.1&quot;);
 Ext.setVersion(&quot;ext-theme-neutral&quot;, &quot;4.2.1&quot;);
+Ext.setVersion(&quot;my-custom-theme&quot;, &quot;1.0.0&quot;);
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/Component.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/panel/Panel.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/toolbar/Toolbar.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/layout/component/Dock.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/container/ButtonGroup.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/toolbar/Paging.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/picker/Month.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/form/field/HtmlEditor.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/panel/Table.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/grid/RowEditor.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/grid/column/RowNumberer.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/resizer/Splitter.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/menu/Menu.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/menu/Separator.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/panel/Tool.js&quot;);;
+Ext.Loader.loadScript(&quot;ext/packages/ext-theme-neptune/overrides/tab/Tab.js&quot;);;
 /**
  * Sencha Blink - Development
  * @author Jacky Nguyen &lt;jacky@sencha.com&gt;
</pre>

<h5 id="id69611b">アプリから使ってみる : 画像スクリーンショット</h5>

<p class="paragraph">
では、結果を見てみます。<a href="./view-1291.html" >JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ1</a>の時に試しましたが、&quot;/work/www/&quot; がDocumentRootとして公開されてますので、そのまま &quot;/extjs-tests/t1/build/production/MyApp/&quot; のURLパスでアクセスしてみました。
<br />
</p>

<p class="paragraph">
適用前：
<br />
<a href="./../images/20140601_extjs42_theming/extjs42-theme-02_before.png" title="" target="_blank"><img src="./../images/20140601_extjs42_theming/extjs42-theme-02_before.png" alt="" title=""  /></a>
<br />
</p>

<p class="paragraph">
適用後：
<br />
<a href="./../images/20140601_extjs42_theming/extjs42-theme-02_after1.png" title="" target="_blank"><img src="./../images/20140601_extjs42_theming/extjs42-theme-02_after1.png" alt="" title=""  /></a>
<br />
</p>

<p class="paragraph">
適用後のネットワーク通信状況：
<br />
<a href="./../images/20140601_extjs42_theming/extjs42-theme-02_after2.png" title="" target="_blank"><img src="./../images/20140601_extjs42_theming/extjs42-theme-02_after2.png" alt="" title=""  /></a>
<br />
</p>

<p class="paragraph">
いくつか画像リソースをリクエストしていましたので、URLを抜粋します。
<br />
</p>
<pre>http://192.168.250.103/extjs-tests/t1/build/production/MyApp/resources/images/form/spinner.png
http://192.168.250.103/extjs-tests/t1/build/production/MyApp/resources/images/util/splitter/mini-left.png
</pre>
<p class="paragraph">
テーマ特有のディレクトリに展開されている、ということはなく、 build/(environment)/(app名)/resources/ の下にテーマの画像リソースとしてコピーされたようです。
<br />
</p>

<p class="paragraph">
ここで、一旦gitでcommitしておきます。 <a href="./view-1291.html" >JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ1</a>で作った環境ですので、t1アプリがそのままローカルのgitリポジトリとしてcommitできます。
<br />
</p>

<pre>msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git add .
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git ci -m &#039;apply my-custom-theme to production build.&#039;
</pre>
<p class="paragraph">
ただ、削除された画像があるため、それらについてはuntrack (git rm) する必要があり、&quot;git add .&quot; だけでは不十分です。
<br />
詳細は割愛しますが、gitに詳しくないため、git statusの出力を適当に加工して、git rmさせました。
<br />
</p>
<pre>msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git commit -m &#039;untrack removed image files&#039;
</pre>

<p class="paragraph">
この段階では、&quot;${app.dir}/bootstrap.css&quot; は直前にビルドされた production のcssを指すように更新されています。一方で、&quot;testing&quot; 環境はまだそのままです。
<br />
結果として、以下のように &quot;${app.dir}/index.html&quot; にアクセスすると&quot;my-custom-theme&quot;が使われ、&quot;testing&quot; 環境はまだ &quot;ext-theme-classic&quot; テーマのままです。
<br />
<a href="./../images/20140601_extjs42_theming/extjs42-theme-03_before_testing.png" title="" target="_blank"><img src="./../images/20140601_extjs42_theming/extjs42-theme-03_before_testing.png" alt="" title=""  /></a>
<br />
</p>

<h5 id="idfcabe2">testingもビルドしてみる : sencha app build testing -c</h5>

<p class="paragraph">
testing環境もビルドしてみます。&quot;-c&quot;で、一旦cleanしてくれます。
<br />
</p>

<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ sencha app build testing -c
Sencha Cmd v4.0.4.84
[INF]
[INF] init-plugin:
[INF]
[INF] cmd-root-plugin.init-properties:
[INF]
[INF] init-properties:
[INF]
[INF] init-sencha-command:
[INF]
[INF] init:
[INF]
[INF] app-build-impl:
[INF]
[INF] -before-init-local:
[INF]
[INF] -init-local:
[INF]
[INF] -after-init-local:
[INF]
[INF] init-local:
[INF]
[INF] find-cmd-in-path:
[INF]
[INF] find-cmd-in-environment:
[INF]
[INF] find-cmd-in-shell:
[INF]
[INF] init-cmd:
[INF]      [echo] Using Sencha Cmd from /work/devtools/Sencha/Cmd/4.0.4.84 for /work/www/extjs-tests/t1/build.xml
[INF]
[INF] -before-init:
[INF]
[INF] -init:
[INF] Initializing Sencha Cmd ant environment
[INF] Adding antlib taskdef for com/sencha/command/compass/ant/antlib.xml
[INF]
[INF] -after-init:
[INF]
[INF] -before-init-defaults:
[INF]
[INF] -init-defaults:
[INF]
[INF] -after-init-defaults:
[INF]
[INF] -init-compiler:
[INF]
[INF] init:
[INF]
[INF] -before-build:
[INF]
[INF] refresh:
[INF]
[INF] -before-refresh:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF] Loading app json manifest...
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/app
[INF] Loading classpath entry /work/www/extjs-tests/t1/app.js
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/testing/MyApp/sencha-compiler/app
[WRN] C1000: Rhino Parse Warning (Trailing comma is not legal in an ECMA-262 object initializer =&gt;     },{) -- /work/www/extjs-tests/t1/app/view/Main.js:25:5
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/testing/MyApp/sencha-compiler/app
[INF] Concatenating output to file /work/www/extjs-tests/t1/build/temp/testing/MyApp/sencha-compiler/cmd-packages.js
[INF] Adding external reference : @full-page =&gt; @overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/testing/MyApp/sencha-compiler/cmd-packages.js
[INF] Adding external reference : Ext.util.Observable =&gt; /work/www/extjs-tests/t1/build/temp/testing/MyApp/sencha-compiler/cmd-packages.js
[INF]
[INF] -refresh-app:
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending content to /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending content to /work/www/extjs-tests/t1/bootstrap.json
[INF]
[INF] -refresh:
[INF]
[INF] -after-refresh:
[INF]
[INF] resolve:
[INF]
[INF] js:
[INF]
[INF] -before-js:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -compile-js:
[INF] Concatenating output to file /work/www/extjs-tests/t1/build/testing/MyApp/app.js
[INF]
[INF] -js:
[INF]
[INF] -after-js:
[INF]
[INF] resources:
[INF]
[INF] -before-resources:
[INF]
[INF] -before-inherit-resources:
[INF]
[INF] -before-copy-resources:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -resources:
[INF] merging resources into /work/www/extjs-tests/t1/build/testing/MyApp/resources
[INF] merged 179 resources into /work/www/extjs-tests/t1/build/testing/MyApp/resources
[INF] merging resources into /work/www/extjs-tests/t1/build/testing/MyApp
[INF] merged 0 resources into /work/www/extjs-tests/t1/build/testing/MyApp
[INF]
[INF] -after-copy-resources:
[INF]
[INF] -after-inherit-resources:
[INF]
[INF] -after-resources:
[INF]
[INF] sass:
[INF]
[INF] -before-sass:
[INF]
[INF] -compass-compile-theme-package:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -compile-sass:
[INF] writing sass content to /work/www/extjs-tests/t1/build/temp/testing/MyApp/sass/MyApp-all.scss
[INF] appending sass content to /work/www/extjs-tests/t1/build/temp/testing/MyApp/sass/MyApp-all.scss
[INF] appending sass content to /work/www/extjs-tests/t1/build/temp/testing/MyApp/sass/MyApp-all.scss
[INF] executing compass using system installed ruby runtime
overwrite MyApp-all.css
[INF]
[INF] -compass-compile-theme-folders:
[INF]
[INF] -compass-compile-sass-dir:
[INF]
[INF] -compass-compile:
[INF]
[INF] -sass:
[INF]
[INF] -after-sass:
[INF]
[INF] slice:
[INF]
[INF] -before-slice:
[INF]
[INF] -slice-images:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -slice-app-theme:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -compile-slicer-sass:
[INF] writing sass content to /work/www/extjs-tests/t1/build/temp/testing/MyApp/slicer-temp/MyApp-example.scss
[INF]
[INF] -compass-compile-slicer-css:
[INF] executing compass using system installed ruby runtime
overwrite MyApp-example.css
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF]      [echo] Capture theme image to /work/www/extjs-tests/t1/build/temp/testing/MyApp/slicer-temp/theme-capture.png
[INF] Capturing theme image
[INF] loading page /work/www/extjs-tests/t1/sass/example/theme.html
Capturing screenshot
Saving slicer widget manifest
Capture complete

[INF] Capture complete
[INF]      [echo] Slicing theme images to /work/www/extjs-tests/t1/build/testing/MyApp/resources
[INF] Slicing images...
[INF] Slicing complete - generated 193 images
[INF]
[INF] -slice:
[INF]
[INF] -after-slice:
[INF]
[INF] page:
[INF]
[INF] -before-page:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -copy-app-resources:
[INF]
[INF] -generate-deltas:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -build-standalone-json-manifest:
[INF]
[INF] -build-output-page:
[INF]
[INF] -build-output-markup-page:
[INF] Building output markup to /work/www/extjs-tests/t1/build/testing/MyApp/index.html
[INF]
[INF] -generate-cache-manifest:
[INF]
[INF] -page:
[INF]
[INF] -after-page:
[INF]
[INF] native-package:
[INF]
[INF] -build:
[INF]
[INF] -after-build:
[INF]
[INF] build:
[INF]
[INF] app-build:
</pre>

<p class="paragraph">
差分：
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git stat
# On branch master
# Changes not staged for commit:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#       modified:   bootstrap.css
#       modified:   bootstrap.js
#       modified:   build/testing/MyApp/app.js
#       modified:   build/testing/MyApp/resources/MyApp-all.css
#       modified:   build/testing/MyApp/resources/Readme.md
#       modified:   build/testing/MyApp/resources/images/btn-group/btn-group-default-framed-corners.gif
#       modified:   build/testing/MyApp/resources/images/btn-group/btn-group-default-framed-notitle-corners.gif
#       modified:   build/testing/MyApp/resources/images/btn-group/btn-group-default-framed-notitle-sides.gif
#       modified:   build/testing/MyApp/resources/images/btn-group/btn-group-default-framed-sides.gif
#       modified:   build/testing/MyApp/resources/images/btn/btn-default-large-bg.gif
#       modified:   build/testing/MyApp/resources/images/btn/btn-default-large-corners.gif
#       modified:   build/testing/MyApp/resources/images/btn/btn-default-large-disabled-bg.gif
#       modified:   build/testing/MyApp/resources/images/btn/btn-default-large-disabled-corners.gif
#       modified:   build/testing/MyApp/resources/images/btn/btn-default-large-disabled-fbg.gif
       (... この辺は、画像ファイルの変更・削除になります)
#       modified:   build/testing/MyApp/resources/images/window/window-default-corners.gif
#       modified:   build/testing/MyApp/resources/images/window/window-default-sides.gif
#       modified:   sass/example/bootstrap.js
#       modified:   sass/example/example.css
#
# Untracked files:
#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
#
#       build/testing/MyApp/resources/images/btn/btn-default-toolbar-large-bg.gif
#       build/testing/MyApp/resources/images/btn/btn-default-toolbar-large-corners.gif
#       build/testing/MyApp/resources/images/btn/btn-default-toolbar-large-disabled-bg.gif
       (... この辺は、画像ファイルの追加になります)
#       build/testing/MyApp/resources/images/util/splitter/mini-right.png
#       build/testing/MyApp/resources/images/util/splitter/mini-top.png
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre>

<p class="paragraph">
差分抜粋：bootstrap.css : これは単に、直前ビルドはproductionだったため、呼び出すCSSのパスがtesting用に更新されたことによる。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git diff bootstrap.css
diff --git a/bootstrap.css b/bootstrap.css
index 5d9ec26..3837424 100644
--- a/bootstrap.css
+++ b/bootstrap.css
@@ -5,5 +5,5 @@
  * to the most recently built CSS file for the application to allow index.html
  * in the development directory to load properly (i.e., &quot;dev mode&quot;).
  */
-@import &#039;build/production/MyApp/resources/MyApp-all.css&#039;;
+@import &#039;build/testing/MyApp/resources/MyApp-all.css&#039;;
</pre>

<p class="paragraph">
差分抜粋：bootstrap.js : ・・・もしかして、testing環境だと Ext.grid.Scrollerが有効になるのか・・・？少なくとも今回の記事のテーマとは関連しない。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git diff bootstrap.js
diff --git a/bootstrap.js b/bootstrap.js
index b206dc9..a543ff5 100644
--- a/bootstrap.js
+++ b/bootstrap.js
@@ -413,6 +413,7 @@ Ext.ClassManager.addNameAlternateMappings({
   ],
   &quot;Ext.grid.RowEditor&quot;: [],
   &quot;Ext.grid.RowEditorButtons&quot;: [],
+  &quot;Ext.grid.Scroller&quot;: [],
   &quot;Ext.grid.View&quot;: [],
   &quot;Ext.grid.ViewDropZone&quot;: [],
   &quot;Ext.grid.column.Action&quot;: [
@@ -1286,6 +1287,7 @@ Ext.ClassManager.addNameAliasMappings({
   &quot;Ext.grid.RowEditorButtons&quot;: [
     &quot;widget.roweditorbuttons&quot;
   ],
+  &quot;Ext.grid.Scroller&quot;: [],
   &quot;Ext.grid.View&quot;: [
     &quot;widget.gridview&quot;
   ],
</pre>


<p class="paragraph">
Webブラウザで testing にアクセスしてみると、以下のようにmy-custom-themeが有効化されました。
<br />
<a href="./../images/20140601_extjs42_theming/extjs42-theme-03_after_testing.png" title="" target="_blank"><img src="./../images/20140601_extjs42_theming/extjs42-theme-03_after_testing.png" alt="" title=""  /></a>
<br />
</p>

<p class="paragraph">
画像アイコンなどのロードについては、以下のように &quot;build/testing/MyApp/resources/&quot; 以下の画像がロードされていました。
<br />
</p>
<pre>http://192.168.250.103/extjs-tests/t1/build/testing/MyApp/resources/images/util/splitter/mini-bottom.png
</pre>


<p class="paragraph">
この段階で、gitにもcommitしておきます。
<br />
</p>
<pre>$ git add .
$ git commit -m &#039;apply my-custom-theme to testing build.&#039;
</pre>

<h4 id="idc36062">練習3: 特定のExtコンポーネントのCSS変数を変更してみる</h4>

<p class="paragraph">
例として、Ext.panel.Panelの &quot;$panel-header-font-family&quot; を変更してみます。
<br />
&quot;Ext.panel.Panel&quot; クラスで、SASSの名前空間は&quot;Ext&quot;になってますので、&quot;sass/var/panel/Panel.scss&quot; ファイルを作成し、以下の内容を設定します。
<br />
&quot;${app.dir}/packages/my-custom-theme/sass/var/panel/Panel.scss&quot;:
<br />
</p>
<pre>$panel-header-font-family: Times New Roman !default;
</pre>
<p class="paragraph">
そのまま、&quot;sencha app build&quot;してみます。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ sencha app build
Sencha Cmd v4.0.4.84
[INF]
[INF] init-plugin:
[INF]
[INF] cmd-root-plugin.init-properties:
[INF]
[INF] init-properties:
[INF]
[INF] init-sencha-command:
[INF]
[INF] init:
[INF]
[INF] app-build-impl:
[INF]
[INF] -before-init-local:
[INF]
[INF] -init-local:
[INF]
[INF] -after-init-local:
[INF]
[INF] init-local:
[INF]
[INF] find-cmd-in-path:
[INF]
[INF] find-cmd-in-environment:
[INF]
[INF] find-cmd-in-shell:
[INF]
[INF] init-cmd:
[INF]      [echo] Using Sencha Cmd from /work/devtools/Sencha/Cmd/4.0.4.84 for /work/www/extjs-tests/t1/build.xml
[INF]
[INF] -before-init:
[INF]
[INF] -init:
[INF] Initializing Sencha Cmd ant environment
[INF] Adding antlib taskdef for com/sencha/command/compass/ant/antlib.xml
[INF]
[INF] -after-init:
[INF]
[INF] -before-init-defaults:
[INF]
[INF] -init-defaults:
[INF]
[INF] -after-init-defaults:
[INF]
[INF] -init-compiler:
[INF]
[INF] init:
[INF]
[INF] -before-build:
[INF]
[INF] refresh:
[INF]
[INF] -before-refresh:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF] Loading app json manifest...
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-base/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neutral/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/ext/packages/ext-theme-neptune/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/src
[INF] Loading classpath entry /work/www/extjs-tests/t1/packages/my-custom-theme/overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/app
[INF] Loading classpath entry /work/www/extjs-tests/t1/app.js
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/app
[WRN] C1000: Rhino Parse Warning (Trailing comma is not legal in an ECMA-262 object initializer =&gt;     },{) -- /work/www/extjs-tests/t1/app/view/Main.js:25:5
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/app
[INF] Concatenating output to file /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/cmd-packages.js
[INF] Adding external reference : @full-page =&gt; @overrides
[INF] Loading classpath entry /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/cmd-packages.js
[INF] Adding external reference : Ext.util.Observable =&gt; /work/www/extjs-tests/t1/build/temp/production/MyApp/sencha-compiler/cmd-packages.js
[INF]
[INF] -refresh-app:
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending content to /work/www/extjs-tests/t1/bootstrap.js
[INF] Appending content to /work/www/extjs-tests/t1/bootstrap.json
[INF]
[INF] -refresh:
[INF]
[INF] -after-refresh:
[INF]
[INF] resolve:
[INF]
[INF] js:
[INF]
[INF] -before-js:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -compile-js:
[INF] Loading classpath entry /work/devtools/Sencha/Cmd/4.0.4.84/plugins/src
[INF] Loading classpath entry /work/devtools/Sencha/Cmd/4.0.4.84/plugins/ext/src
[INF] Loading classpath entry /work/devtools/Sencha/Cmd/4.0.4.84/plugins/ext/4.2/src
[INF] Building optimized concatenated output..
[INF] Compressing data with YuiJavascriptCompressor
[INF] Concatenating output to file /work/www/extjs-tests/t1/build/production/MyApp/app.js
[INF]
[INF] -js:
[INF]
[INF] -after-js:
[INF]
[INF] resources:
[INF]
[INF] -before-resources:
[INF]
[INF] -before-inherit-resources:
[INF]
[INF] -before-copy-resources:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -resources:
[INF] merging resources into /work/www/extjs-tests/t1/build/production/MyApp/resources
[INF] merged 0 resources into /work/www/extjs-tests/t1/build/production/MyApp/resources
[INF] merging resources into /work/www/extjs-tests/t1/build/production/MyApp
[INF] merged 0 resources into /work/www/extjs-tests/t1/build/production/MyApp
[INF]
[INF] -after-copy-resources:
[INF]
[INF] -after-inherit-resources:
[INF]
[INF] -after-resources:
[INF]
[INF] sass:
[INF]
[INF] -before-sass:
[INF]
[INF] -compass-compile-theme-package:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -compile-sass:
[INF] writing sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/sass/MyApp-all.scss
[INF] appending sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/sass/MyApp-all.scss
[INF] appending sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/sass/MyApp-all.scss
[INF] executing compass using system installed ruby runtime
overwrite MyApp-all.css
[INF]      [echo] Compressing /work/www/extjs-tests/t1/build/production/MyApp/resources/MyApp-all.css to /work/www/extjs-tests/t1/build/production/MyApp/resourcess
[INF] srcfile: /work/www/extjs-tests/t1/build/production/MyApp/resources/MyApp-all.css (633216 bytes)
[INF] outfile: /work/www/extjs-tests/t1/build/production/MyApp/resources/MyApp-all.css
[INF] Compressed size 278360 bytes. Saved 354856 bytes (56 %)
[INF]
[INF] -compass-compile-theme-folders:
[INF]
[INF] -compass-compile-sass-dir:
[INF]
[INF] -compass-compile:
[INF]
[INF] -sass:
[INF]
[INF] -after-sass:
[INF]
[INF] slice:
[INF]
[INF] -before-slice:
[INF]
[INF] -slice-images:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -slice-app-theme:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -compile-slicer-sass:
[INF] writing sass content to /work/www/extjs-tests/t1/build/temp/production/MyApp/slicer-temp/MyApp-example.scss
[INF]
[INF] -compass-compile-slicer-css:
[INF] executing compass using system installed ruby runtime
overwrite MyApp-example.css
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF] Appending concatenated output to file /work/www/extjs-tests/t1/sass/example/bootstrap.js
[INF]      [echo] Capture theme image to /work/www/extjs-tests/t1/build/temp/production/MyApp/slicer-temp/theme-capture.png
[INF] Capturing theme image
[INF] loading page /work/www/extjs-tests/t1/sass/example/theme.html
Capturing screenshot
Saving slicer widget manifest
Capture complete

[INF] Capture complete
[INF]      [echo] Slicing theme images to /work/www/extjs-tests/t1/build/production/MyApp/resources
[INF] Slicing images...
[INF] Slicing complete - generated 193 images
[INF]
[INF] -slice:
[INF]
[INF] -after-slice:
[INF]
[INF] page:
[INF]
[INF] -before-page:
[INF]
[INF] -init:
[INF]
[INF] -init-compiler:
[INF]
[INF] -copy-app-resources:
[INF]
[INF] -generate-deltas:
[INF]
[INF] -detect-app-build-properties:
[INF]
[INF] -build-standalone-json-manifest:
[INF]
[INF] -build-output-page:
[INF]
[INF] -build-output-markup-page:
[INF] Building output markup to /work/www/extjs-tests/t1/build/production/MyApp/index.html
[INF]
[INF] -generate-cache-manifest:
[INF]
[INF] -page:
[INF]
[INF] -after-page:
[INF]
[INF] native-package:
[INF]
[INF] -build:
[INF]
[INF] -after-build:
[INF]
[INF] build:
[INF]
[INF] app-build:

msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git status
# On branch master
# Changes not staged for commit:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#       modified:   bootstrap.css
#       modified:   bootstrap.js
#       modified:   build/production/MyApp/resources/MyApp-all.css
#       modified:   sass/example/bootstrap.js
#       modified:   sass/example/example.css
#
# Untracked files:
#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
#
#       packages/my-custom-theme/sass/var/panel/
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre>

<p class="paragraph">
特にもう差分を確認したりはしませんが、この時点でproductionの&quot;MyApp-all.css&quot;が更新されており、&quot;${app.dir}/index.html&quot; が参照する bootstrap.css も production の MyApp-all.css を参照するよう更新されています。
<br />
</p>

<p class="paragraph">
&quot;${app.dir}/index.html&quot; で確認してみると、確かにPanelのfont familyが &quot;Times New Roman&quot; に変更されていました。
<br />
<a href="./../images/20140601_extjs42_theming/extjs42-theme-04_change_specific_ext_component_css_var" title="" target="_blank"><img src="./../images/20140601_extjs42_theming/extjs42-theme-04_change_specific_ext_component_css_var" alt="" title=""  /></a>
<br />
</p>


<p class="paragraph">
testingの方でもビルドし、gitにcommitしておきます。
<br />
</p>
<pre>msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ sencha app build testing
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git commit -m &#039;add Ext.panel.Panel styling.&#039;
</pre>


<h3 id="idcd15a6">アプリ固有のカスタマイズを行う (${app.dir}/sass)</h3>

<p class="paragraph">
上記までの例は、テーマpackageによるExtコンポーネント全体のカスタマイズでした。
<br />
しかし、アプリ側でテーマが指定してきたCSS変数を上書きしたい、あるいは独自のCSSルールを作成したい、というユースケースも当然ながら出てきます。
<br />
そうした場合は、&quot;${app.dir}/sass&quot; の下の、srcやvarディレクトリを使います。
<br />
</p>

<h4 id="id5ef126">&quot;${app.dir}/sass&quot; の下の名前空間について</h4>

<p class="paragraph">
packageでテーマを作成した時は、sassの下の名前空間は &quot;Ext&quot; 接頭辞になっていました。
<br />
&quot;${app.dir}/sass&quot; の場合は、アプリ名が名前空間になります。
<br />
今回の例では、アプリ名は &quot;MyApp&quot; であるため、&quot;MyApp.view.Viewport&quot; というクラスがあれば、&quot;${app.dir}/sass/var/view/Viewport.scss&quot; や &quot;${app.dir}/sass/src/view/Viewport.scss&quot; が読み込まれます。
<br />
これは &quot;${app.dir}/.sencha/app/sencha.cfg&quot; の &quot;app.sass.namespace&quot; でカスタマイズ可能です。
<br />
とはいえ、ExtJSの公式ドキュメントでもそれは推奨されておらず、もしアプリ名以外の名前空間にたいしてカスタマイズを行うのであれば自分のテーマを作成してそちらで実施する方向を推奨しています。
<br />
</p>

<h5 id="id38d225">グローバルなCSS変数をアプリ側で上書きするには、じゃぁどこで設定すればよいのか？</h5>

<p class="paragraph">
アプリ固有の名前空間の調整により、事実上、Ext.Componentに対応するファイル名で&quot;.scss&quot;ファイルをアプリ側で作成するのは現実的ではなくなります。
<br />
なぜなら、&quot;${app.dir}/sass/var/Component.scss&quot; というファイル名があっても、&quot;MyApp.Component&quot; というクラス名が無ければ、読み込まれることは無いからです。
<br />
</p>

<p class="paragraph">
<strong>逆に言えば、対応するクラス名さえ用意されていれば、どこで記述してもグローバルなCSS変数を上書きできます。・・・多分・・・(・_・;)</strong>
<br />
</p>

<p class="paragraph">
というのは、以下の例では &quot;MyApp.Application&quot; クラスに対応する形で進めていますが、当初は &quot;MyApp.view.sub.FormDemo&quot; クラス (&quot;${app.dir}/app/view/sub/FormDemo.js&quot;) に対応する &quot;${app.dir}/sass/var/view/sub/FormDemo.scss&quot; を使っていて、てっきり「MyApp.view.sub.FormDemo の Panel でのみ、&quot;$panel-header-color&quot; が適用される」と勘違いしてたんです。
<br />
ところが実際に試してみたら、view/Main.js で定義している他のPanelにも設定が波及していました。
<br />
</p>

<p class="paragraph">
これ、ExtJSの公式ドキュメントを注意深く読むと分かるんですが、結局最終的にビルドされるCSSには、テーマ側のSASSと、&quot;${app.dir}/sass&quot; のSASSが統合されます。
<br />
そのとき、「このクラス限定」みたいな統合のされ方ではなくて、単純にファイル結合みたく上書き、上書き、で重ねられてくんだと思います。
<br />
&quot;.scss&quot;のファイルを取り込む基準として単に、対応するクラスがあるかないかだけがチェックされてて、対応するクラスさえあれば、単純に上書き、上書き、で結合されてくのだと思われます。
<br />
</p>

<p class="paragraph">
なので、MyApp.view.sub.FormDemo に対応させたつもりの &quot;${app.dir}/sass/var/view/sub/FormDemo.scss&quot; は、実は本当にグローバルなCSS変数を上書きしていた、という事情と思われます。
<br />
</p>

<p class="paragraph">
・・・ちょっとこの辺の理解、怪しい箇所もあるので、間違ってたらメールかなにかでコメント下さい・・・。(；´Д｀)
<br />
</p>

<h4 id="id43699d">アプリ側でグローバルなCSS変数をカスタマイズする</h4>

<p class="paragraph">
今回はPanelのヘッダー部分の文字色をアプリ側でカスタマイズしてみます。
<br />
対応するクラスとしてMyApp.Applicationがちょうど良かったので、sass/var の下にApplication.scssファイルを以下の内容で作成しました。
<br />
&quot;${app.dir}/sass/var/Application.scss&quot; :
<br />
</p>
<pre>$panel-header-color: #ff6600;
</pre>

<p class="paragraph">
※統合される順番の都合で、こちらでは &quot;!default&quot; は要りません。詳しくはExtJSドキュメントの、&quot;Components&quot; -&gt; &quot;Theming&quot; の &quot;Changing Theme Variables in Your Application&quot; の説明を参照して下さい。
<br />
</p>

<p class="paragraph">
testingでビルドしてみます。
<br />
</p>
<pre class="plugin_pre">
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ sencha app build testing -c
...

msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git add .
msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git status
# On branch master
# Changes to be committed:
#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
#
#       modified:   build/testing/MyApp/resources/MyApp-all.css
#       new file:   sass/var/Application.scss
#

msakamoto@dev1-u1204lts-x64:/work/www/extjs-tests/t1$ git diff --cached build/testing/MyApp/resources/MyApp-all.css
diff --git a/build/testing/MyApp/resources/MyApp-all.css b/build/testing/MyApp/resources/MyApp-all.css
index 2e91098..328957d 100644
--- a/build/testing/MyApp/resources/MyApp-all.css
+++ b/build/testing/MyApp/resources/MyApp-all.css
@@ -63,6 +63,7 @@
 /* including package ext-theme-neutral */
 /* including package ext-theme-neptune */
 /* including package my-custom-theme */
+/* including package MyApp */
 /* including package my-custom-theme */
 /* including package ext-theme-neptune */
 /**
@@ -8905,7 +8906,7 @@ body.x-nbr .x-btn-default-toolbar-large-frameInfo {

 /* line 260, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-panel-header-text-container-default {
-  color: white;
+  color: #ff6600;
   font-size: 16px;
   font-weight: bold;
   font-family: Times New Roman;
@@ -9015,14 +9016,14 @@ body.x-nbr .x-btn-default-toolbar-large-frameInfo {
 }
 /* line 556, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-panel-header-default .x-panel-header-glyph {
-  color: white;
+  color: #ff6600;
   font-size: 16px;
   line-height: 16px;
   opacity: 0.5;
 }
 /* line 572, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-ie8m .x-panel-header-default .x-panel-header-glyph {
-  color: #98b79f;
+  color: #986b20;
 }

 /* line 580, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
@@ -9223,7 +9224,7 @@ body.x-nbr .x-btn-default-toolbar-large-frameInfo {

 /* line 260, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-panel-header-text-container-default-framed {
-  color: white;
+  color: #ff6600;
   font-size: 16px;
   font-weight: bold;
   font-family: Times New Roman;
@@ -10627,14 +10628,14 @@ body.x-nbr .x-panel-header-default-framed-collapsed-left-frameInfo {
 }
 /* line 556, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-panel-header-default-framed .x-panel-header-glyph {
-  color: white;
+  color: #ff6600;
   font-size: 16px;
   line-height: 16px;
   opacity: 0.5;
 }
 /* line 572, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-ie8m .x-panel-header-default-framed .x-panel-header-glyph {
-  color: #98b79f;
+  color: #986b20;
 }

 /* line 580, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
@@ -11667,7 +11668,7 @@ body.x-nbr .x-window-default-frameInfo {

 /* line 233, ../../../../ext/packages/ext-theme-neutral/sass/src/window/Window.scss */
 .x-window-header-text-container-default {
-  color: white;
+  color: #ff6600;
   font-weight: bold;
   line-height: 15px;
   font-family: Times New Roman;
@@ -12836,21 +12837,21 @@ body.x-nbr .x-window-header-default-collapsed-left-frameInfo {
 .x-window-header-default .x-window-header-icon {
   width: 16px;
   height: 16px;
-  color: white;
+  color: #ff6600;
   font-size: 16px;
   line-height: 16px;
   background-position: center center;
 }
 /* line 364, ../../../../ext/packages/ext-theme-neutral/sass/src/window/Window.scss */
 .x-window-header-default .x-window-header-glyph {
-  color: white;
+  color: #ff6600;
   font-size: 16px;
   line-height: 16px;
   opacity: 0.5;
 }
 /* line 380, ../../../../ext/packages/ext-theme-neutral/sass/src/window/Window.scss */
 .x-ie8m .x-window-header-default .x-window-header-glyph {
-  color: #a7c2ad;
+  color: #a7752e;
 }

 /* line 388, ../../../../ext/packages/ext-theme-neutral/sass/src/window/Window.scss */
@@ -17740,14 +17741,14 @@ body.x-nbr .x-btn-plain-toolbar-large-frameInfo {
 }
 /* line 556, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-panel-header-light .x-panel-header-glyph {
-  color: white;
+  color: #ff6600;
   font-size: 16px;
   line-height: 16px;
   opacity: 0.5;
 }
 /* line 572, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-ie8m .x-panel-header-light .x-panel-header-glyph {
-  color: #f0f3f1;
+  color: #f0a771;
 }

 /* line 580, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
@@ -19353,14 +19354,14 @@ body.x-nbr .x-panel-header-light-framed-collapsed-left-frameInfo {
 }
 /* line 556, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-panel-header-light-framed .x-panel-header-glyph {
-  color: white;
+  color: #ff6600;
   font-size: 16px;
   line-height: 16px;
   opacity: 0.5;
 }
 /* line 572, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */
 .x-ie8m .x-panel-header-light-framed .x-panel-header-glyph {
-  color: #f0f3f1;
+  color: #f0a771;
 }

 /* line 580, ../../../../ext/packages/ext-theme-neutral/sass/src/panel/Panel.scss */

[master 5a33d1d] apply app specific panel-header-color.
 2 files changed, 16 insertions(+), 14 deletions(-)
 create mode 100644 sass/var/Application.scss
</pre>

<p class="paragraph">
Web画面上で確認してみると、Panelのヘッダ文字列が指定通りの色に変化していました。
<br />
<a href="./../images/20140601_extjs42_theming/extjs42-theme-05_change_app_specific_css_var.png" title="" target="_blank"><img src="./../images/20140601_extjs42_theming/extjs42-theme-05_change_app_specific_css_var.png" alt="" title=""  /></a>
<br />
</p>

<hr class="full_hr" />
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-1291.html" title="JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ1">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-1293.html" title="JavaScript/ExtJS/ExtJS4 + Sencha Cmd 勉強メモ3, アイコン画像のカスタマイズ">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-1315.html" title="JavaScript/ExtJS">Up</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-162.html" title="JavaScript">JavaScript</a>&nbsp;]</li>
</ul>
</div>

<div class="data_attrs_post">
original url: https://www.glamenv-septzen.net/view/1292<br>
</div>

</div>
<!-- //data_main -->

</div>


</div>
<!-- /content-wrap end -->

<!-- footer start -->
<div id="footer">
Copyright &copy; 2001 - 2025 Masahiko Sakamoto(msakamoto-sf)<br>
License&nbsp;:&nbsp;<a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a><br>
Contact&nbsp;:&nbsp;<a target="_blank" href="https://x.com/msakamoto_sf">x(twitter)</a> / <a target="_blank" href="https://github.com/msakamoto-sf/">github</a> / <a class="maillink" target="_blank" href="mailto:&#x73;&#x61;&#x6B;&#x61;&#x6D;&#x6F;&#x74;&#x6F;&#x2E;&#x67;&#x73;&#x79;&#x63;&#x2E;&#x33;&#x73;&#x40;&#x67;&#x6D;&#x61;&#x69;&#x6C;&#x2E;&#x63;&#x6F;&#x6D;">email</a><br>
--&nbsp;Beautiful Icons&nbsp;--<br />
<a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank" title="Mark James Silk icon set 1.3">Mark James Silk icon set 1.3</a> by famfamfam<br />
<a href="http://www.pinvoke.com/" target="_blank" title="Fugue Icons">Fugue Icons</a> by Yusuke Kamiyamane<br />
</div>
<!-- /footer end -->

</div>
<!-- /body end -->

</body>
</html>