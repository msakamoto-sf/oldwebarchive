<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Python/MultiVersionCoexisting(複数バージョン共存) - Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</title>
<!-- favicon 2017's reference:
https://developers.google.com/web/fundamentals/design-and-ui/browser-customization/
https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx
https://developer.chrome.com/multidevice/android/installtohomescreen
https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html
-->
<link rel="shortcut icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="apple-touch-icon" sizes="57x57" href="../favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="../favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="../favicons/favicon-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-160x160.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-196x196.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../favicons/favicon-32x32.png" sizes="32x32">

<!-- browserconfig.xml : https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx -->
<meta name="msapplication-TileColor" content="#990000">
<meta name="msapplication-TileImage" content="../favicons/mstile-144x144.png">

<!-- these favicon files were generated by https://ao-system.net/favicongenerator/ , thanks!!(2017-02-18) -->

<style type="text/css"></style>

<link href="./css/pcbrowser.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_plugins.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_wiki.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/print.css" rel="stylesheet" type="text/css" media="print"/>
</head>
<body>
<!-- body start -->
<div class="body">
<div style="display: inline"><a name="pagetop"></a></div>
<div id="header-wrap">
<img src="./images/logo1.jpg" style="float: left; margin-right: 1em;"/>
<a href="./index.html" title="Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)"><img src="./icons/home.png" alt="home"/>&nbsp;Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</a>


<h1 style="margin-bottom: 10px;">Python/MultiVersionCoexisting(複数バージョン共存)</h1>

<div style="clear: both;"></div>
</div><!-- //header-wrap -->

<!-- content-wrap start -->
<div id="content-wrap"><div class="contents_s">

<!-- data_main -->
<div class="data_main">

<div class="data_attrs_pre">
作成日: 2014-01-19 12:19:09 &nbsp; / &nbsp; last updated at: 2014-01-19 12:24:32<br>
カテゴリ: <a href="category-28.html">Python</a>&nbsp;</div>

<div class="data_body">
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-825.html" title="Python/Gray Hat Python 読書メモ">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-823.html" title="Python/PYTHONPATH, sys.path, &quot;site&quot;モジュール, &quot;site-packages&quot;ディレクトリ">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-184.html" title="Python">Python</a>&nbsp;]</li>
</ul>
<hr class="full_hr" />

<p class="paragraph">
一つのマシンで複数バージョンのPythonを共存させるメモ。
<br />
</p>

<p class="paragraph">
複数バージョンといっても、Pythonのインタープリタを共存させるのか、site-packages以下のライブラリ空間を共存させるのか、あるいはその両方か、でアプローチが変わる。
<br />
</p>


<p class="paragraph">
site-packages以下のライブラリ空間を共存させたい場合：
<br />
</p>
<dl>
<dt>目的</dt>
<dd>システムにインストールされたPythonパッケージライブラリとは別に、site-packages以下のライブラリ空間を分離したい。</dd>
<dt>例</dt>
<dd>
<ul><li> ディストリビューションがインストールして使用するライブラリXXXXのバージョンと、使用したいアプリが必要とするライブラリXXXXのバージョンが異なり、メジャーバージョンが違うためインターフェイスの互換性が無い。そのため、アプリ専用にライブラリXXXXをインストールするディレクトリを分離したい。</li>
<li> 複数のプロダクトを開発するときに、プロダクトごとに必要とするライブラリとそのバージョンが異なるため、それぞれに専用のライブラリインストール先を用意して使い分けたい。</li></ul></dd>
<dt>アプローチ</dt>
<dd>virtualenv, virtualenvwrapper</dd>
</dl>

<p class="paragraph">
Pythonインタープリタを複数バージョン共存させたい場合：
<br />
</p>
<dl>
<dt>目的</dt>
<dd>システムにインストールされたPythonインタープリタとは異なるバージョンを使いたい。</dd>
<dt>例</dt>
<dd>
<ul><li> 使用したいアプリが必要とするPythonのバージョンが、ディストリビューションがインストールするものとは異なっている。安全のため、アプリ専用に分離してPythonインタープリタをインストールしたい。</li></ul></dd>
<dt>アプローチ</dt>
<dd>手動コンパイル, pyenv</dd>
</dl>

<p class="paragraph">
なお、virtualenv(wrapper)は手動コンパイルやpyenvと組み合わせることも出来る。そのため、Pythonインタープリタ＋ライブラリ空間をペアにして、丸ごと分離したsandbox環境を構築することも可能。
<br />
</p>


<p class="paragraph">
以下、アプローチに挙げた手法について紹介していく。
<br />
</p>

<pre>2014-01版実験環境
CentOS 6.3 x86_64版 (Minimal Desktop インストール)
python-2.6.6-51.el6.x86_64
virtualenv : 1.11
virtualenvwrapper : 4.2
</pre>

<ul><li><a href="#id7b18b4">virtualenv</a></li>
<li><a href="#id7b0af1">virtualenvwrapper</a></li>
<li><a href="#id60c765">手動でPythonインタープリタをインストール(インストール先を分離)</a><ul><li><a href="#idb7213b">手動でインストールしたPythonを使う virtualenv 環境の作成</a></li>
<li><a href="#id24f97d">参考資料</a></li></ul></li>
<li><a href="#idbd8a9f">pyenv</a></li>
<li><a href="#idbbf8cb">番外：Mac OSX編</a></li>
<li><a href="#id50a999">感想</a></li></ul>
<hr />
<h3 id="id7b18b4">virtualenv</h3>

<p class="paragraph">
virtualenvはPythonのインタープリタ＋ライブラリ環境をセットで分離するためのツールセットになる。カバー範囲はあくまでも環境を分離する機能であり、Pythonインタープリタを自動でDLしてビルドしたり、あるいはライブラリを自動でDLして分離環境に展開したり、という機能はない。(Hook機能はあるようなので、上手く調整すれば可能かもしれない。)
<br />
</p>

<ul><li> <a class="externallink" href="https://github.com/pypa/virtualenv" target="_blank">https://github.com/pypa/virtualenv</a></li>
<li> <a class="externallink" href="http://www.virtualenv.org/" target="_blank">http://www.virtualenv.org/</a></li>
<li> <a class="externallink" href="https://pypi.python.org/pypi/virtualenv" target="_blank">https://pypi.python.org/pypi/virtualenv</a></li></ul>

<p class="paragraph">
「分離した環境」というのは、後述するがディレクトリとファイルのセットであり、以下の様な要素で構成されている。
<br />
</p>
<pre>bin/
    環境変数調整用のスクリプトファイル
    その分離環境で使用するPythonインタープリタのコピー
    easy_installコマンドなど
include/
    その分離環境で使用するPythonインタープリタインストール先のincludeへのsymlink
lib/
    基本パッケージのsymlink
    site-packages/ (分離環境専用, setuptools展開済みになってたりなど)
</pre>

<p class="paragraph">
※virtualenvの解説で、Pythonインタープリタも複数バージョン切り替えられるようになるという解説があるが、Pythonインタープリタのインストールはvirtualenvの範囲外である。別途手動でビルドするか、pyenvなどでインストールしておく必要がある。virtualenvには、分離環境で使用するPythonインタープリタの位置を指定することが可能なため、もしインストールしているのであれば、別バージョンのPythonインタープリタを使う分離環境を設定可能である、という程度に過ぎない。
<br />
</p>

<p class="paragraph">
pipからのインストール: virtualenvは、システムのsite-packagesにインストールする必要がある。virtualenv自体で作成した分離環境にはインストールしない。
<br />
</p>
<pre class="plugin_pre">
# pip install virtualenv
Downloading/unpacking virtualenv
  Downloading virtualenv-1.11.tar.gz (1.6MB): 1.6MB downloaded
  Running setup.py (path:/tmp/pip_build_root/virtualenv/setup.py) egg_info for package virtualenv
    warning: no previously-included files matching &#039;*&#039; found under directory &#039;docs/_templates&#039;
    warning: no previously-included files matching &#039;*&#039; found under directory &#039;docs/_build&#039;
Installing collected packages: virtualenv
  Running setup.py install for virtualenv
    warning: no previously-included files matching &#039;*&#039; found under directory &#039;docs/_templates&#039;
    warning: no previously-included files matching &#039;*&#039; found under directory &#039;docs/_build&#039;
    Installing virtualenv script to /usr/bin
    Installing virtualenv-2.6 script to /usr/bin
Successfully installed virtualenv
Cleaning up...
</pre>

<p class="paragraph">
インストールに成功したので、実際に分離環境（ディレクトリ構成）を作成してみる。
<br />
使ってみる。お好みの場所にcdしてから &quot;virtualenv&quot; コマンドに環境名を指定する。
<br />
</p>
<pre>$ virtualenv TEST1
New python executable in TEST1/bin/python
Installing setuptools, pip...done.
</pre>
<p class="paragraph">
&quot;環境名&quot;で作成されたディレクトリの中を覗いてみる。
<br />
</p>
<pre class="plugin_pre">
./TEST1/
bin/
    activate
    activate.csh
    activate.fish
    activate_this.py
    easy_install        # easy_installのsymlinkではなくて実体。
    easy_install-2.6    # easy_installのsymlinkではなくて実体。
    pip                 # pipのsymlinkではなくて実体。
    pip2                # pipのsymlinkではなくて実体。
    pip2.6              # pipのsymlinkではなくて実体。
    python              # ELF実行バイナリ
        (今回の実行例ではvirtualenv実行時に使った＝システムインストールの/usr/bin/pythonのコピー)
    python2 -&gt; python   # /usr/bin/ではなく、↑のpythonへのsymlink
    python2.6 -&gt; python # /usr/bin/ではなく、↑のpythonへのsymlink

include/python2.6 -&gt; /usr/include/python2.6/

lib64/ -&gt; lib/
lib/
    python2.6/
        xxx.py   # /usr/lib64/python2.6/xxx.py へのsymlink
        xxx.pyc  # xxx.py のコンパイルキャッシュ
        site-packages/  # easy_install, pip のインストール実体ファイル群
</pre>

<p class="paragraph">
&quot;bin/activate&quot; の内容で「なるほどな～」と思った点を抜粋：
<br />
</p>
<pre class="plugin_pre">
# 既に取り込み済みであれば、元の値に戻すための関数
deactivate () {
    ....
}

# 既に取り込み済みであれば、元の値を復元
# unset irrelevant variables
deactivate nondestructive

# virtualenvコマンド実行時に生成・埋め込まれた&quot;VIRTUAL_ENV&quot;
VIRTUAL_ENV=&quot;/home/msakamoto/work/TEST1&quot;
export VIRTUAL_ENV

# 実行前のPATHを&quot;_OLD_VIRTUAL_PATH&quot;に退避（保存）
_OLD_VIRTUAL_PATH=&quot;$PATH&quot;
# VIRTUAL_ENVをPATHに追加
PATH=&quot;$VIRTUAL_ENV/bin:$PATH&quot;
export PATH
</pre>

<p class="paragraph">
実際に実行してみる。
<br />
実行前：
<br />
</p>
<pre class="plugin_pre">
$ python
Python 2.6.6 (r266:84292, Nov 22 2013, 12:16:22) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; print sys.path
# 見やすく改行
[&#039;&#039;, 
&#039;/usr/lib/python2.6/site-packages/setuptools-2.1-py2.6.egg&#039;, 
&#039;/usr/lib/python2.6/site-packages/pip-1.5-py2.6.egg&#039;, 
&#039;/usr/lib64/python26.zip&#039;, 
&#039;/usr/lib64/python2.6&#039;, 
&#039;/usr/lib64/python2.6/plat-linux2&#039;, 
&#039;/usr/lib64/python2.6/lib-tk&#039;, 
&#039;/usr/lib64/python2.6/lib-old&#039;, 
&#039;/usr/lib64/python2.6/lib-dynload&#039;, 
&#039;/usr/lib64/python2.6/site-packages&#039;, 
&#039;/usr/lib64/python2.6/site-packages/gtk-2.0&#039;, 
&#039;/usr/lib/python2.6/site-packages&#039;]
</pre>
<p class="paragraph">
実行：bashの場合、 bin/activate を source で取り込む。
<br />
</p>
<pre class="plugin_pre">
$ source work/TEST1/bin/activate
(TEST1)[...]$ python     # &lt;-- プロンプト($PS1)も変更されてる。
# インタープリタはシステムでインストールされたものがコピーされてるので、実行前と同じ。
Python 2.6.6 (r266:84292, Nov 22 2013, 12:16:22) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; print sys.path
# 見やすく改行→システムではなく、&quot;TEST1&quot;以下のsite-packagesを見るよう変更されてる。
[&#039;&#039;, 
&#039;/home/msakamoto/work/TEST1/lib64/python26.zip&#039;, 
&#039;/home/msakamoto/work/TEST1/lib64/python2.6&#039;, 
&#039;/home/msakamoto/work/TEST1/lib64/python2.6/plat-linux2&#039;, 
&#039;/home/msakamoto/work/TEST1/lib64/python2.6/lib-tk&#039;, 
&#039;/home/msakamoto/work/TEST1/lib64/python2.6/lib-old&#039;, 
&#039;/home/msakamoto/work/TEST1/lib64/python2.6/lib-dynload&#039;, 
&#039;/usr/lib64/python2.6&#039;, 
&#039;/usr/lib/python2.6&#039;, 
&#039;/home/msakamoto/work/TEST1/lib/python2.6/site-packages&#039;]
&gt;&gt;&gt; quit()

(TEST1)[...]$ echo $PATH
/home/msakamoto/work/TEST1/bin:/usr/lib64/qt-3.3/bin:(...)
(TEST1)[...]$ echo $VIRTUAL_ENV
/home/msakamoto/work/TEST1
</pre>
<p class="paragraph">
環境を戻すには、&quot;deactivate&quot;コマンドをシェルから実行する。(&quot;deactivate&quot;コマンドは&quot;bin/activate&quot;をsourceで取り込んだ時に定義される)
<br />
</p>
<pre class="plugin_pre">
(TEST1)[...]$ deactivate 
# プロンプトが元に戻る。
[...]$ 
[...]$ echo $PATH
/usr/lib64/qt-3.3/bin:(...) # $PATHも元に戻ってる。
[...]$ python
Python 2.6.6 (r266:84292, Nov 22 2013, 12:16:22) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; print sys.path
[&#039;&#039;, &#039;/usr/lib/python2.6/site-packages/setuptools-2.1-py2.6.egg&#039;, (...)]
# 元に戻ってる。
</pre>

<p class="paragraph">
他、参考：
<br />
</p>
<ul><li> 今日のPython: VIRTUALENV について<ul><li> <a class="externallink" href="http://blog1.erp2py.com/2011/07/virtualenv.html" target="_blank">http://blog1.erp2py.com/2011/07/virtualenv.html</a></li></ul></li>
<li> pip と virtualenv でパッケージ管理 — Watallica metallicus<ul><li> <a class="externallink" href="http://meme.biology.tohoku.ac.jp/students/iwasaki/python/pip.html" target="_blank">http://meme.biology.tohoku.ac.jp/students/iwasaki/python/pip.html</a></li></ul></li></ul>

<h3 id="id7b0af1">virtualenvwrapper</h3>

<p class="paragraph">
virtualenvは便利だが、作成した環境(=ディレクトリ)の位置を覚えておく必要があり、使う都度 source でactivateを取り込む必要がある。
<br />
virtualenvで作成した環境を管理し、環境の切り替えのショートカットコマンドを提供してくれるのが virtualenvwrapper となる。
<br />
</p>

<ul><li> virtualenvwrapper 4.2 : Python Package Index<ul><li> <a class="externallink" href="https://pypi.python.org/pypi/virtualenvwrapper" target="_blank">https://pypi.python.org/pypi/virtualenvwrapper</a></li></ul></li>
<li> Virtualenvwrapperの導入<ul><li> <a class="externallink" href="http://blog.rdtr.net/posts/2013/12/01/virtualenvwrapper_get_started/" target="_blank">http://blog.rdtr.net/posts/2013/12/01/virtualenvwrapper_get_started/</a></li></ul></li>
<li> virtualenvwrapper 4.2.11.g664aee2 — virtualenvwrapper 4.2.11.g664aee2 documentation<ul><li> <a class="externallink" href="http://virtualenvwrapper.readthedocs.org/en/latest/index.html" target="_blank">http://virtualenvwrapper.readthedocs.org/en/latest/index.html</a></li></ul></li></ul>

<p class="paragraph">
pipからインストール出来る。
<br />
</p>
<pre class="plugin_pre">
# pip install virtualenvwrapper
Downloading/unpacking virtualenvwrapper
  Downloading virtualenvwrapper-4.2.tar.gz (125kB): 125kB downloaded
  Running setup.py (path:/tmp/pip_build_root/virtualenvwrapper/setup.py) egg_info for package virtualenvwrapper
    
    Installed /tmp/pip_build_root/virtualenvwrapper/pbr-0.5.23-py2.6.egg
    [pbr] Processing SOURCES.txt
    warning: LocalManifestMaker: standard file &#039;-c&#039; not found
    warning: no previously-included files found matching &#039;.gitignore&#039;
    warning: no previously-included files found matching &#039;.gitreview&#039;
    warning: no previously-included files matching &#039;*.pyc&#039; found anywhere in distribution
    warning: no files found matching &#039;*.html&#039; under directory &#039;docs&#039;
    warning: no files found matching &#039;*.css&#039; under directory &#039;docs&#039;
    warning: no files found matching &#039;*.js&#039; under directory &#039;docs&#039;
    warning: no files found matching &#039;*.png&#039; under directory &#039;docs&#039;
Requirement already satisfied (use --upgrade to upgrade): virtualenv in /usr/lib/python2.6/site-packages (from virtualenvwrapper)
Downloading/unpacking virtualenv-clone (from virtualenvwrapper)
  Downloading virtualenv-clone-0.2.4.tar.gz
  Running setup.py (path:/tmp/pip_build_root/virtualenv-clone/setup.py) egg_info for package virtualenv-clone
Downloading/unpacking stevedore (from virtualenvwrapper)
  Downloading stevedore-0.13.tar.gz (760kB): 760kB downloaded
  Running setup.py (path:/tmp/pip_build_root/stevedore/setup.py) egg_info for package stevedore
    
    Installed /tmp/pip_build_root/stevedore/pbr-0.5.23-py2.6.egg
    [pbr] Processing SOURCES.txt
    warning: LocalManifestMaker: standard file &#039;-c&#039; not found
    warning: no previously-included files found matching &#039;.gitignore&#039;
    warning: no previously-included files found matching &#039;.gitreview&#039;
    warning: no previously-included files matching &#039;*.pyc&#039; found anywhere in distribution
    warning: no files found matching &#039;*.py&#039; under directory &#039;tests&#039;
Downloading/unpacking argparse (from stevedore-&gt;virtualenvwrapper)
  Downloading argparse-1.1.zip (151kB): 151kB downloaded
  Running setup.py (path:/tmp/pip_build_root/argparse/setup.py) egg_info for package argparse
Installing collected packages: virtualenvwrapper, virtualenv-clone, stevedore, argparse
  Running setup.py install for virtualenvwrapper
    [pbr] Reusing existing SOURCES.txt
    changing mode of build/scripts-2.6/virtualenvwrapper.sh from 644 to 755
    changing mode of build/scripts-2.6/virtualenvwrapper_lazy.sh from 644 to 755
    Skipping installation of /usr/lib/python2.6/site-packages/virtualenvwrapper/__init__.py (namespace package)
    Installing /usr/lib/python2.6/site-packages/virtualenvwrapper-4.2-py2.6-nspkg.pth
    changing mode of /usr/bin/virtualenvwrapper.sh to 755
    changing mode of /usr/bin/virtualenvwrapper_lazy.sh to 755
  Running setup.py install for virtualenv-clone
    Installing virtualenv-clone script to /usr/bin
  Running setup.py install for stevedore
    [pbr] Reusing existing SOURCES.txt
  Running setup.py install for argparse
Successfully installed virtualenvwrapper virtualenv-clone stevedore argparse
Cleaning up...
</pre>

<p class="paragraph">
環境設定を行う。今回はbashを使っているので、.bashrc中に公式HPの解説に従い以下の様な設定を追加した。
<br />
</p>
<pre>export WORKON_HOME=$HOME/.virtualenvwrapper.workons
export PROJECT_HOME=$HOME/.virtualenvwrapper.projects
source /usr/bin/virtualenvwrapper.sh
</pre>
<p class="paragraph">
公式HPの例から修正している点：
<br />
</p>
<ul><li> ディレクトリを&quot;.virtualenv&quot;ではなく、wrapperであることを明示できるよう &quot;.virtualenvwrapper&quot; に修正。また、workonとprojectでディレクトリ名から推測できるよう調整。</li>
<li> 公式HP例では &quot;/usr/local/bin/virtualenvwrapper.sh&quot; だったが、今回のインストールでは &quot;/usr/bin/virtualenvwrapper.sh&quot; としてインストールされたので、sourceするパスを修正。</li></ul>

<p class="paragraph">
実際に環境を追加してみる。
<br />
</p>
<pre class="plugin_pre">
[...]$ mkvirtualenv test1
New python executable in test1/bin/python
Installing setuptools, pip...done.
# →作成後、その環境に切り替わる。実体はvirtualenvで、プロンプト($PS1)も変更される。

(test1)[...]$ workon
test1

(test1)[...]$ python
Python 2.6.6 (r266:84292, Nov 22 2013, 12:16:22) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; print sys.path
[&#039;&#039;, &#039;/home/msakamoto/.virtualenvwrapper.workons/test1/lib64/python26.zip&#039;, (...)]
# → &quot;.virtualenvwrapper.workons&quot; 以下に &quot;test1&quot; というvirtualenvが作成され、
# その中のディレクトリが sys.path 以下に設定されたことが確認できた。

(test1)[...]$ echo $PATH
/home/msakamoto/.virtualenvwrapper.workons/test1/bin:/usr/lib64/qt-3.3/bin:(...)
</pre>

<p class="paragraph">
環境を戻すには、&quot;deactivate&quot;コマンドを実行する。(実体はvirtualenvなので、それと同じ)
<br />
</p>
<pre>(test1)[...]$ deactivate
[...]$ 
</pre>

<h3 id="id60c765">手動でPythonインタープリタをインストール(インストール先を分離)</h3>

<p class="paragraph">
Pythonインタープリタを専用のディレクトリにインストールしたい場合、configure時に&quot;--prefix&quot;オプションでインストール先を設定する。
<br />
注意点：
<br />
</p>
<ul><li> zlibなど開発系のライブラリをインストールしておかないと、対応する機能がOFFの状態でビルドされてしまう。<ul><li> 参考 : <a class="externallink" href="http://rajaseelan.com/2012/01/28/installing-python-2-dot-7-2-on-centos-5-dot-2/" target="_blank">http://rajaseelan.com/2012/01/28/installing-python-2-dot-7-2-on-centos-5-dot-2/</a></li></ul></li>
<li> ディストリビューション提供のPythonとコンパイルオプションを合わせておきたい場合は、 <a href="./view-1254.html" >Python/インタープリタがコンパイルされた時のコンパイルオプションを確認する</a> などで予め &quot;./configure&quot; 時やコンパイル時のオプションを確認しておく。</li>
<li> ldconfigの設定などで、分離したインストール先の &quot;lib/&quot; を登録してライブラリがロードできるよう調整しておく。<ul><li> Pythonのビルドでは、ありがたいことに &quot;libpython2.7.so.1.0&quot; のようにメジャー番号とマイナー番号がsoのファイル名に含まれない。このため、システムにインストール済みのものとマイナー番号が異なれば、（多分）システム側のPython実行環境と衝突する心配はない。</li>
<li> 安全を期すのであればシステムのldconfigではなく、実行ユーザー環境でのLD_LIBRARY_PATHを調整すればよい。</li></ul></li></ul>

<p class="paragraph">
ちなみに、開発系のライブラリが見つからない場合、make時に以下のように、「こんなモジュールがOFFになりました」と一覧で出してくれるので、適宜調べて、対応すればよい。
<br />
</p>
<pre class="plugin_pre">
Python build finished, but the necessary bits to build these modules were not found:
_curses            _curses_panel      _sqlite3        
_ssl               _tkinter           bsddb185        
bz2                dl                 imageop         
readline           sunaudiodev        zlib            
To find the necessary bits, look in setup.py in detect_modules() for the module&#039;s name.
</pre>
<p class="paragraph">
今回の実験ではtcl/tk関連、dl, bsddb関連, imageop はまず使わないのでスルーした。CentOS6だったので、以下の開発用パッケージをインストールした。
<br />
</p>
<pre># yum install zlib-devel bzip2-devel sqlite-devel ncurses-devel \
       openssl-devel gdbm-devel readline-devel
</pre>


<p class="paragraph">
実際にビルドしてみる。まずインストール先のディレクトリを作成する。
<br />
</p>
<pre>$ mkdir -p /work/pythonbuilds/2.7.6
</pre>
<p class="paragraph">
&quot;./configure&quot; &amp; makeを実行する。&quot;--prefix&quot;以外は、ディストリビューションインストール済みのPython2.6で確認したオプションとなる。
<br />
</p>
<pre>$ ./configure --prefix=/work/pythonbuilds/2.7.6 --enable-ipv6 --enable-unicode=ucs4 --enable-shared
$ make
</pre>

<p class="paragraph">
make後のインストールだが、&quot;make install&quot;の他に&quot;make altinstall&quot;というmakeターゲットが使える。
<br />
Makefileより関連の説明箇所を抜粋：
<br />
</p>
<pre class="plugin_pre">
...
# If you have a previous version of Python installed that you don&#039;t
# want to overwrite, you can use &quot;make altinstall&quot; instead of &quot;make
# install&quot;.  Refer to the &quot;Installing&quot; section in the README file for
# additional details.
#
# See also the section &quot;Build instructions&quot; in the README file.
...
# Install everything
install:         altinstall bininstall maninstall 

# Install almost everything without disturbing previous versions
altinstall:      altbininstall libinstall inclinstall \
                                libainstall altmaninstall \
                sharedinstall oldsharedinstall 
...
</pre>
<p class="paragraph">
詳細は、READMEの &quot;Installing multiple versions&quot; セクションを確認のこと。
<br />
</p>

<p class="paragraph">
大雑把にまとめると、&quot;make altinstall&quot; では &quot;bin/python&quot; などバージョン番号なしのpython関連リンク・ディレクトリを作成しない。基本的にはメジャー.マイナーまでの番号付きのディレクトリやファイルを生成する。このため、システムにインストール済みのPythonと同じディレクトリツリーにインストールしても、上書きしてしまう心配は無い。
<br />
</p>

<p class="paragraph">
&quot;./configure&quot; で &quot;--prefix&quot; オプション無しであれば &quot;make altinstall&quot; も有効な選択肢に入るだろうが、今回については&quot;--prefix&quot;オプションを付けて完全にディレクトリを分離するアプローチを採っている。このため、 &quot;make altinstall&quot; ではなく普通に &quot;make install&quot; を実行する。
<br />
</p>

<p class="paragraph">
参考として、今回の例で &quot;make altinstall&quot; すると&quot;bin/&quot;以下には次のファイルがインストールされた。
<br />
</p>

<p class="paragraph">
&quot;make altinstall&quot; 後：
<br />
</p>
<pre>$ ls
2to3*  idle*  pydoc*  python2.7*  python2.7-config*  smtpd.py*
</pre>

<p class="paragraph">
&quot;make install&quot; 後：
<br />
</p>
<pre class="plugin_pre">
$ ls -l
total 48
-rwxrwxr-x. 1 msakamoto   115 Jan 18 20:16 2to3*
-rwxrwxr-x. 1 msakamoto   113 Jan 18 20:16 idle*
-rwxrwxr-x. 1 msakamoto    98 Jan 18 20:16 pydoc*
lrwxrwxrwx. 1 msakamoto     7 Jan 18 20:41 python -&gt; python2*
lrwxrwxrwx. 1 msakamoto     9 Jan 18 20:41 python2 -&gt; python2.7*
-rwxr-xr-x. 1 msakamoto  9760 Jan 18 20:39 python2.7*
-rwxr-xr-x. 1 msakamoto  1688 Jan 18 20:41 python2.7-config*
lrwxrwxrwx. 1 msakamoto    16 Jan 18 20:41 python2-config -&gt; python2.7-config*
lrwxrwxrwx. 1 msakamoto    14 Jan 18 20:41 python-config -&gt; python2-config*
-rwxrwxr-x. 1 msakamoto 18561 Jan 18 20:16 smtpd.py*
</pre>

<p class="paragraph">
インストールされたバイナリを実行すると、&quot;libpython2.7.so.1.0&quot;が見つからないと怒られる。lddコマンドでロードするライブラリを確認してみると、たしかにそれだけ &quot;not found&quot; となる。これは、ディレクトリを分離して専用の&quot;lib/&quot;にインストールされたため、システム側の共有ライブラリのローダがライブラリを見つけられないことが原因である。
<br />
</p>
<pre class="plugin_pre">
$ ldd /work/pythonbuilds/2.7.6/bin/python2.7
	linux-vdso.so.1 =&gt;  (0x00007fffd5dff000)
	libpython2.7.so.1.0 =&gt; not found
	libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x0000003858c00000)
	libdl.so.2 =&gt; /lib64/libdl.so.2 (0x0000003858400000)
	libutil.so.1 =&gt; /lib64/libutil.so.1 (0x0000003865000000)
	libm.so.6 =&gt; /lib64/libm.so.6 (0x0000003859800000)
	libc.so.6 =&gt; /lib64/libc.so.6 (0x0000003858800000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003858000000)
</pre>

<p class="paragraph">
Linuxの場合、共有ライブラリのローダであるldの設定を変更する。一般的には &quot;/etc/ld.so.conf&quot; であるが、CentOS6の場合はその実体は &quot;/etc/ld.so.conf.d&quot; 内の個別設定ファイルをIncludeするだけとなっている。今回はその流儀に従い、&quot;/etc/ld.so.conf.d/&quot; 内に設定ファイルを追加する。
<br />
</p>
<pre># cd /etc/ld.so.conf.d/
# echo &quot;/work/pythonbuilds/2.7.6/lib&quot; &gt; py27.conf
</pre>
<p class="paragraph">
設定ファイルを追加したら、ldconfigを実行して設定をリロードする。
<br />
</p>
<pre># ldconfig
</pre>
<p class="paragraph">
これでライブラリのロードに成功し、実行できるようになる。
<br />
</p>
<pre class="plugin_pre">
$ ldd /work/pythonbuilds/2.7.6/bin/python2.7
	linux-vdso.so.1 =&gt;  (0x00007fff11977000)
	libpython2.7.so.1.0 =&gt; /work/pythonbuilds/2.7.6/lib/libpython2.7.so.1.0 (0x00007fa91867a000)
	libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x0000003858c00000)
	libdl.so.2 =&gt; /lib64/libdl.so.2 (0x0000003858400000)
	libutil.so.1 =&gt; /lib64/libutil.so.1 (0x0000003865000000)
	libm.so.6 =&gt; /lib64/libm.so.6 (0x0000003859800000)
	libc.so.6 =&gt; /lib64/libc.so.6 (0x0000003858800000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003858000000)
</pre>

<p class="paragraph">
実行してみる：
<br />
</p>
<pre class="plugin_pre">
$ /work/pythonbuilds/2.7.6/bin/python2.7
Python 2.7.6 (default, Jan 18 2014, 20:36:47) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; for k in sys.path:
...     print k
... 

/work/pythonbuilds/2.7.6/lib/python27.zip
/work/pythonbuilds/2.7.6/lib/python2.7
/work/pythonbuilds/2.7.6/lib/python2.7/plat-linux2
/work/pythonbuilds/2.7.6/lib/python2.7/lib-tk
/work/pythonbuilds/2.7.6/lib/python2.7/lib-old
/work/pythonbuilds/2.7.6/lib/python2.7/lib-dynload
/work/pythonbuilds/2.7.6/lib/python2.7/site-packages
</pre>

<p class="paragraph">
これでシステム以外のPythonが使えるようになったので、このPythonインタープリタを使う設定で virtualenv で分離環境を作成してみる。
<br />
</p>

<h4 id="idb7213b">手動でインストールしたPythonを使う virtualenv 環境の作成</h4>

<p class="paragraph">
virtualenvコマンドには &quot;--python&quot; という、作成する環境で使用するPython実行ファイルを指定するコマンドラインオプションがある。
<br />
</p>
<pre>$ virtualenv --python=/work/pythonbuilds/2.7.6/bin/python2.7 TEST2
</pre>
<p class="paragraph">
これで &quot;TEST2&quot; の環境に入ると、pythonコマンドとして /work/pythonbuilds/2.7.6/bin/python2.7 を使うよう調整される。
<br />
</p>
<pre class="plugin_pre">
$ virtualenv --python=/work/pythonbuilds/2.7.6/bin/python2.7 TEST2
Running virtualenv with interpreter /work/pythonbuilds/2.7.6/bin/python2.7
New python executable in TEST2/bin/python2.7
Also creating executable in TEST2/bin/python
Installing setuptools, pip...done.

$ source ./TEST2/bin/activate
(TEST2)[...]$ 

(TEST2)[...]$ python
Python 2.7.6 (default, Jan 18 2014, 20:36:47) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; for k in sys.path:
...     print k
... 

/home/msakamoto/work/TEST2/lib/python27.zip
/home/msakamoto/work/TEST2/lib/python2.7
/home/msakamoto/work/TEST2/lib/python2.7/plat-linux2
/home/msakamoto/work/TEST2/lib/python2.7/lib-tk
/home/msakamoto/work/TEST2/lib/python2.7/lib-old
/home/msakamoto/work/TEST2/lib/python2.7/lib-dynload
/work/pythonbuilds/2.7.6/lib/python2.7
/work/pythonbuilds/2.7.6/lib/python2.7/plat-linux2
/work/pythonbuilds/2.7.6/lib/python2.7/lib-tk
/home/msakamoto/work/TEST2/lib/python2.7/site-packages
</pre>

<p class="paragraph">
virtualenvwrapperでも、mkvirtualenvにvirtualenvコマンドのコマンドラインオプションを渡せるので、以下のようにPythonインタープリタ実行ファイルを指定して環境を作成できる。
<br />
</p>
<pre class="plugin_pre">
$ mkvirtualenv --python=/work/pythonbuilds/2.7.6/bin/python2.7 py27t1
Running virtualenv with interpreter /work/pythonbuilds/2.7.6/bin/python2.7
New python executable in py27t1/bin/python2.7
Also creating executable in py27t1/bin/python
Installing setuptools, pip...done.

(py27t1)[...]$ which python
~/.virtualenvwrapper.workons/py27t1/bin/python

(py27t1)[...]$ ldd `which python`
	linux-vdso.so.1 =&gt;  (0x00007fff4316f000)
	libpython2.7.so.1.0 =&gt; /work/pythonbuilds/2.7.6/lib/libpython2.7.so.1.0 (0x00007f436b37c000)
	libpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x0000003858c00000)
	libdl.so.2 =&gt; /lib64/libdl.so.2 (0x0000003858400000)
	libutil.so.1 =&gt; /lib64/libutil.so.1 (0x0000003865000000)
	libm.so.6 =&gt; /lib64/libm.so.6 (0x0000003859800000)
	libc.so.6 =&gt; /lib64/libc.so.6 (0x0000003858800000)
	/lib64/ld-linux-x86-64.so.2 (0x0000003858000000)

(py27t1)[...]$ echo $PATH
/home/msakamoto/.virtualenvwrapper.workons/py27t1/bin:/usr/lib64/qt-3.3/bin:(...)

(py27t1)[...]$ python
Python 2.7.6 (default, Jan 18 2014, 20:36:47) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-4)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; import sys
&gt;&gt;&gt; for k in sys.path:
...   print k
... 

/home/msakamoto/.virtualenvwrapper.workons/py27t1/lib/python27.zip
/home/msakamoto/.virtualenvwrapper.workons/py27t1/lib/python2.7
/home/msakamoto/.virtualenvwrapper.workons/py27t1/lib/python2.7/plat-linux2
/home/msakamoto/.virtualenvwrapper.workons/py27t1/lib/python2.7/lib-tk
/home/msakamoto/.virtualenvwrapper.workons/py27t1/lib/python2.7/lib-old
/home/msakamoto/.virtualenvwrapper.workons/py27t1/lib/python2.7/lib-dynload
/work/pythonbuilds/2.7.6/lib/python2.7
/work/pythonbuilds/2.7.6/lib/python2.7/plat-linux2
/work/pythonbuilds/2.7.6/lib/python2.7/lib-tk
/home/msakamoto/.virtualenvwrapper.workons/py27t1/lib/python2.7/site-packages
</pre>

<h4 id="id24f97d">参考資料</h4>

<ul><li> CentOS6.4に複数バージョンのPythonのインストール | WinRoad徒然草<ul><li> <a class="externallink" href="http://w.builwing.info/2013/10/07/centos6-4%E3%81%AB%E8%A4%87%E6%95%B0%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AEpython%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB/" target="_blank">http://w.builwing.info/2013/10/07/centos6-4%E3%81%AB%E8%A4%87%E6%95%B0%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%AEpython%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB/</a></li></ul></li>
<li> システム標準のpythonとは異なるバージョンを使いたい。 — ExSoft<ul><li> <a class="externallink" href="http://www.exsoft.net/blog/entry/ra913e" target="_blank">http://www.exsoft.net/blog/entry/ra913e</a></li></ul></li>
<li> Python executable not finding libpython shared library - Stack Overflow<ul><li> <a class="externallink" href="http://stackoverflow.com/questions/7880454/python-executable-not-finding-libpython-shared-library" target="_blank">http://stackoverflow.com/questions/7880454/python-executable-not-finding-libpython-shared-library</a></li></ul></li>
<li> さくらVPS 1GBにPython2.7を入れてみました。 - Qiita [キータ]<ul><li> <a class="externallink" href="http://qiita.com/mugyuu/items/048d3c9b3619425d3749" target="_blank">http://qiita.com/mugyuu/items/048d3c9b3619425d3749</a></li></ul></li></ul>

<p class="paragraph">
altinstall関連：
<br />
</p>
<ul><li> Unix プラットフォームで Python を使う — Python 2.7ja1 documentation<ul><li> <a class="externallink" href="http://docs.python.jp/2/using/unix.html" target="_blank">http://docs.python.jp/2/using/unix.html</a></li></ul></li>
<li> Difference in details between &quot;make install&quot; and &quot;make altinstall&quot; - Stack Overflow<ul><li> <a class="externallink" href="http://stackoverflow.com/questions/16018463/difference-in-details-between-make-install-and-make-altinstall" target="_blank">http://stackoverflow.com/questions/16018463/difference-in-details-between-make-install-and-make-altinstall</a></li></ul></li>
<li> CentOS 6.4にPython 2.7.5をインストール(altinstall)し、さらに、デフォルトで2.6.6ではなく2.7.5が起動するようにする - コンピュータ/ソフトウェア関連Tips<ul><li> <a class="externallink" href="http://next.matrix.jp/20130602.html" target="_blank">http://next.matrix.jp/20130602.html</a></li></ul></li></ul>

<h3 id="idbd8a9f">pyenv</h3>

<p class="paragraph">
2014-01版：今回はpyenvまで時間が取れなかったため検証せず。ざっくりググった参考資料のリンクだけ載せるに留める。
<br />
</p>

<ul><li> yyuu/pyenv<ul><li> <a class="externallink" href="https://github.com/yyuu/pyenv" target="_blank">https://github.com/yyuu/pyenv</a></li></ul></li>
<li> plenvとpyenvに乗り換えた - ぱせらんメモ<ul><li> <a class="externallink" href="http://d.hatena.ne.jp/pasela/20130219/llenv" target="_blank">http://d.hatena.ne.jp/pasela/20130219/llenv</a></li></ul></li></ul>

<p class="paragraph">
pyenvを使うと、どうせならvirtualenvと連動させたいよね、ということで：
<br />
</p>
<ul><li> Python - pyenvとvirtualenvのインストールと使い方 - Qiita [キータ]<ul><li> <a class="externallink" href="http://qiita.com/la_luna_azul/items/3f64016feaad1722805c" target="_blank">http://qiita.com/la_luna_azul/items/3f64016feaad1722805c</a></li></ul></li>
<li> yyuu/pyenv-virtualenv<ul><li> <a class="externallink" href="https://github.com/yyuu/pyenv-virtualenv" target="_blank">https://github.com/yyuu/pyenv-virtualenv</a></li></ul></li></ul>

<p class="paragraph">
pyenvの検証をスルーした理由の一つに、pyenvがPythonのソースをDLしてコンパイルするというのであれば、コンパイルオプションの調整にまた一手間かかってしまうだろうな～というのがあった。つまり実用性とか、地雷回避性能に疑問符がついてしまったため、スルー。
<br />
</p>
<ul><li> pyenv/plugins/python-build at master<ul><li> <a class="externallink" href="https://github.com/yyuu/pyenv/tree/master/plugins/python-build" target="_blank">https://github.com/yyuu/pyenv/tree/master/plugins/python-build</a></li></ul></li>
<li> Common build problems<ul><li> <a class="externallink" href="https://github.com/yyuu/pyenv/wiki/Common-build-problems" target="_blank">https://github.com/yyuu/pyenv/wiki/Common-build-problems</a></li></ul></li></ul>

<h3 id="idbbf8cb">番外：Mac OSX編</h3>

<ul><li> Mac OS Xで複数バージョンのPythonを利用する（１）複数Verインストール編 - Qiita [キータ]<ul><li> <a class="externallink" href="http://qiita.com/redtree/items/3927e042b2ca18f03b8c" target="_blank">http://qiita.com/redtree/items/3927e042b2ca18f03b8c</a></li></ul></li>
<li> homebrew - Mac OS Xで複数バージョンのPythonを利用する（２）利用編 - Qiita [キータ]<ul><li> <a class="externallink" href="http://qiita.com/redtree/items/22d99c6164af18c7e791" target="_blank">http://qiita.com/redtree/items/22d99c6164af18c7e791</a></li></ul></li>
<li> Mac で Python の開発環境構築(2013.11) - methaneのブログ<ul><li> <a class="externallink" href="http://methane.hatenablog.jp/entry/2013/11/05/Mac_%E3%81%A7_Python_%E3%81%AE%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89" target="_blank">http://methane.hatenablog.jp/entry/2013/11/05/Mac_%E3%81%A7_Python_%E3%81%AE%E9%96%8B%E7%99%BA%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89</a>(2013_11)</li></ul></li></ul>


<h3 id="id50a999">感想</h3>

<p class="paragraph">
Pythonの複数バージョンを共存させたい場合、もう一つ観点として付け足したいのが、利用するのが誰か、という点。
<br />
</p>
<ul><li> 自力でのトラブル解決を期待できる、開発者向けか？</li>
<li> 基本的にマニュアル操作で、開発者のサポートが無くても日常的に作業する運用者向けか？</li>
<li> サーバサイドアプリか？</li></ul>

<p class="paragraph">
この観点でベターな方式を考えると、pyenvやvirtualenvwrapperは、運用者やサーバサイドアプリ向けにはオーバースペックに思える。このユースケースでは、そもそも「新しい分離環境を作成」する必要は全くなく、既にセットアップ済みの分離環境を使うのみとなるからだ。virtualenv単体であれば、環境変数を設定するタイミングで(bashなら)sourceで分離環境の &quot;bin/activate&quot; を取り込むだけなので、サーバサイドアプリの起動用スクリプトにも組み込み易い。ディレクトリも好きな場所に設置できるので、例えばroot権限で環境を作成し、運用者権限を分ければ、運用者が誤って分離環境を壊してしまうような事故も防止できるだろう。
<br />
</p>

<p class="paragraph">
一方で開発者視点では、環境の切り替え作業が日常的に増えるため、virtualenv単体ではやや力不足であり、virtualenvwrapperがベターなアプローチだろう。Pythonインタープリタ自体の異なるバージョンの共存については、共存させるバージョンの数が数個であればvirtualenv(wrapper) + 手動ビルドでも問題ないだろう。5個以上になり、頻繁に切り替える必要が生じたり、あるいは最新のリリースへのキャッチアップが要求されるようであれば、pyenvのように自動DL&amp;ビルドしてくれる環境管理ツールが有効だろう。
<br />
</p>

<hr class="full_hr" />
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-825.html" title="Python/Gray Hat Python 読書メモ">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-823.html" title="Python/PYTHONPATH, sys.path, &quot;site&quot;モジュール, &quot;site-packages&quot;ディレクトリ">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-184.html" title="Python">Up</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-184.html" title="Python">Python</a>&nbsp;]</li>
</ul>
</div>

<div class="data_attrs_post">
original url: https://www.glamenv-septzen.net/view/1255<br>
</div>

</div>
<!-- //data_main -->

</div>


</div>
<!-- /content-wrap end -->

<!-- footer start -->
<div id="footer">
Copyright &copy; 2001 - 2025 Masahiko Sakamoto(msakamoto-sf)<br>
License&nbsp;:&nbsp;<a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a><br>
Contact&nbsp;:&nbsp;<a target="_blank" href="https://x.com/msakamoto_sf">x(twitter)</a> / <a target="_blank" href="https://github.com/msakamoto-sf/">github</a> / <a class="maillink" target="_blank" href="mailto:&#x73;&#x61;&#x6B;&#x61;&#x6D;&#x6F;&#x74;&#x6F;&#x2E;&#x67;&#x73;&#x79;&#x63;&#x2E;&#x33;&#x73;&#x40;&#x67;&#x6D;&#x61;&#x69;&#x6C;&#x2E;&#x63;&#x6F;&#x6D;">email</a><br>
--&nbsp;Beautiful Icons&nbsp;--<br />
<a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank" title="Mark James Silk icon set 1.3">Mark James Silk icon set 1.3</a> by famfamfam<br />
<a href="http://www.pinvoke.com/" target="_blank" title="Fugue Icons">Fugue Icons</a> by Yusuke Kamiyamane<br />
</div>
<!-- /footer end -->

</div>
<!-- /body end -->

</body>
</html>