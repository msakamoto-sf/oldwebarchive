<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>技術/Security/SSH - Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</title>
<!-- favicon 2017's reference:
https://developers.google.com/web/fundamentals/design-and-ui/browser-customization/
https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx
https://developer.chrome.com/multidevice/android/installtohomescreen
https://developer.apple.com/library/content/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html
-->
<link rel="shortcut icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="icon" href="../favicons/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="apple-touch-icon" sizes="57x57" href="../favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../favicons/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../favicons/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../favicons/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="../favicons/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="../favicons/favicon-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../favicons/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-160x160.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-196x196.png" sizes="96x96">
<link rel="icon" type="image/png" href="../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../favicons/favicon-32x32.png" sizes="32x32">

<!-- browserconfig.xml : https://msdn.microsoft.com/ja-jp/library/dn455106(v=vs.85).aspx -->
<meta name="msapplication-TileColor" content="#990000">
<meta name="msapplication-TileImage" content="../favicons/mstile-144x144.png">

<!-- these favicon files were generated by https://ao-system.net/favicongenerator/ , thanks!!(2017-02-18) -->

<style type="text/css"></style>

<link href="./css/pcbrowser.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_plugins.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/pcbrowser_wiki.css" rel="stylesheet" type="text/css" media="screen"/>
<link href="./css/print.css" rel="stylesheet" type="text/css" media="print"/>
</head>
<body>
<!-- body start -->
<div class="body">
<div style="display: inline"><a name="pagetop"></a></div>
<div id="header-wrap">
<img src="./images/logo1.jpg" style="float: left; margin-right: 1em;"/>
<a href="./index.html" title="Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)"><img src="./icons/home.png" alt="home"/>&nbsp;Glamenv-Septzen(ぐらめぬ・ぜぷつぇん)(archive)</a>


<h1 style="margin-bottom: 10px;">技術/Security/SSH</h1>

<div style="clear: both;"></div>
</div><!-- //header-wrap -->

<!-- content-wrap start -->
<div id="content-wrap"><div class="contents_s">

<!-- data_main -->
<div class="data_main">

<div class="data_attrs_pre">
作成日: 2013-07-27 15:37:39 &nbsp; / &nbsp; last updated at: 2014-05-06 15:51:19<br>
カテゴリ: <a href="category-43.html">SSH</a>&nbsp;<a href="category-23.html">セキュリティ</a>&nbsp;</div>

<div class="data_body">
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-1378.html" title="技術/Security/PKI,SSL,TLS/メモ05_OpenSSLがサポートするCipher名一覧の取得">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-1448.html" title="技術/Security/mitmproxy (Python製 HTTP/1, HTTP/2, WebSocket プロキシ) (URLメモ)">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-23.html" title="技術">技術</a>&nbsp;]</li>
</ul>
<hr class="full_hr" />

<p class="paragraph">
SSHの使い方のメモ書き。
<br />
</p>




<p class="paragraph">
日記から：
<br />
</p>
<ul><li> <a href="./view-317.html" >日記/2005/03/27/sshでのログイン制限</a></li>
<li> <a href="./view-722.html" >日記/2010/07/25/SCPとSFTPの違いを初めて知った。</a></li>
<li> <a href="./view-732.html" >日記/2010/08/19/pageant.exeをスタートアップに登録しようとして嵌ったメモ</a></li>
<li> <a href="./view-733.html" >日記/2010/08/19/TortoiseSVNでsvn+sshをputtyで接続する時の注意点</a></li></ul>

<ul><li><a href="#id2a9601">~/.ssh 以下のパーミッション</a></li>
<li><a href="#id99b1de">ssh-agentのメモ</a></li>
<li><a href="#id9c8d7c">ssh-keygenのメモ</a><ul><li><a href="#idc1a48b">&quot;-t&quot; では何を指定すれば良いのか？</a></li>
<li><a href="#idfe6adb">生成する秘密鍵・公開鍵のファイル名を変更したい</a></li>
<li><a href="#idb58b9b">鍵ファイルのフォーマットについて</a></li>
<li><a href="#idce6ffb">秘密鍵のパスフレーズを思い出すために入力して確認したい、あるいは秘密鍵からもう一度公開鍵(authorized_keys用)を生成したい</a></li>
<li><a href="#id1f6644">秘密鍵をパスフレーズ無しにしたい、あるいはパスフレーズ無しの秘密鍵にパスフレーズを設定したい</a></li></ul></li>
<li><a href="#idacc4e2">ホスト毎に秘密鍵を使い分けたくなったら、&quot;~/.ssh/config&quot; を活用しよう！</a></li>
<li><a href="#ide6dfaf">AWSや実験環境で、IPアドレスやホストの鍵が頻繁に変わるような場合</a></li>
<li><a href="#id4c28af">PuTTY系とOpenSSH系を併用する場合の鍵ファイルのフォーマットについて</a></li></ul>
<hr />
<h3 id="id2a9601">~/.ssh 以下のパーミッション</h3>

<p class="paragraph">
基本的にownerしか読み書き出来ないようにしておく。OpenSSHのバージョンや設定によっては、owner以外にrとかxが許可されてるとエラーになって接続出来なかったりするっぽい。
<br />
</p>
<pre>$ chmod 700 ~/.ssh
$ chmod 600 ~/.ssh/authorized_keys
</pre>

<h3 id="id99b1de">ssh-agentのメモ</h3>

<p class="paragraph">
ログインのbash起動時に ssh-agent 立ちあげて、そこからscreen経由でサブのbash開く時は単にssh-agentの環境変数読むだけで、最後にログアウトするときに ssh-agent -k するTips:
<br />
</p>

<p class="paragraph">
.bashrc:
<br />
</p>
<pre class="plugin_pre">
SSH_AGENT_SRC=~/.ssh_agent_env
if [ ! -f ${SSH_AGENT_SRC} ]; then
    echo &quot;ss-agent starting...&quot;
    ssh-agent &gt; ${SSH_AGENT_SRC}
fi
source ${SSH_AGENT_SRC}
ssh-add -l &gt;&amp;/dev/null
if [ $? == 2 ] ; then
    echo -n &quot;ssh-agent: old env rmeains, restarting....&quot;
    ssh-agent &gt; ${SSH_AGENT_SRC}
    source ${SSH_AGENT_SRC}
fi
</pre>

<p class="paragraph">
.bash_logout:
<br />
</p>
<pre class="plugin_pre">
SSH_AGENT_SRC=~/.ssh_agent_env
ssh-agent -k &gt;&amp; /dev/null
/bin/rm -f ${SSH_AGENT_SRC}
</pre>

<p class="paragraph">
ポイント：
<br />
</p>
<ol><li> 一度、&quot;.ssh_agent_env&quot;を読み込んだ後に ssh-add してみて、戻り値をチェックして異常があれば、古いのが残ってるとか何かだと思うので、ssh-agentを起動しなおして &quot;.ssh_agent_env&quot; を更新＋再読み込みしてる。</li>
<li> &quot;.bash_logout&quot; はログインシェルからログアウトする場合に読み込まれる。screenから起動したbashからexitする時は読み込まれないので、例えばWindowsホストからPuttyでログイン～screenで複数のbash開いて作業～最後、閉じてログアウトしたら削除される。</li></ol>

<p class="paragraph">
・・・ただし、これだと、screenをdetachしてログアウトしてしまうと、screenの各セッションから参照しているssh-agentが終わってしまうので、もう一度SSHとかでログインしてscreen -rすると、ssh-agentと通信できなくなっててアウトな気がする。
<br />
ちょっと使い方に工夫と注意が必要そう。bashの関数にして、ユーザが明示的に操作できるようにするのもありか。
<br />
</p>

<p class="paragraph">
参考：
<br />
</p>
<ul><li> 自分サーバの構築その１４：ssh-agentでノンパスワードを実現 - Akio’s Log<ul><li> <a class="externallink" href="http://d.hatena.ne.jp/elwoodblues/20070619/1182240574" target="_blank">http://d.hatena.ne.jp/elwoodblues/20070619/1182240574</a></li></ul></li>
<li> .bash_profileとか.bash_loginとか.profileとか.bashrcとか.bash_logoutとか多すぎる - rderaログ<ul><li> <a class="externallink" href="http://d.hatena.ne.jp/rdera/20080806/p1" target="_blank">http://d.hatena.ne.jp/rdera/20080806/p1</a></li></ul></li></ul>


<h3 id="id9c8d7c">ssh-keygenのメモ</h3>

<p class="paragraph">
ssh-keygenで個人的に気になる点をメモ。
<br />
</p>

<h4 id="idc1a48b">&quot;-t&quot; では何を指定すれば良いのか？</h4>

<p class="paragraph">
ぐぐってみると、記事によっては &quot;-t dsa&quot; を指定したり &quot;-t rsa&quot; を指定してる。
<br />
SSHのプロトコルバージョンと、RSAの特許の有効期限に関連してバリエーションが出来ている。
<br />
</p>

<p class="paragraph">
SSHプロトコルバージョン1用には、&quot;-t rsa1&quot;を使う。
<br />
ただし、RSAの特許の問題もあり、SSHプロトコルバージョン2ではDSAがサポートされた。
<br />
→DSAを使う場合は &quot;-t dsa&quot; を指定する。
<br />
2000年になりRSAの特許の有効期限が切れた・・・らしい。そのため、以降のOpenSSHでは、SSHプロトコルバージョン2用として &quot;-t rsa&quot; をサポートして、RSAを使えるようになった。
<br />
</p>

<p class="paragraph">
DSAはあくまでも&quot;Digital Signature Algorithm&quot;であり、電子署名に使われることを想定していた。暗号化に使うことは想定していなかった・・・らしい・・・。後にDSAを暗号化に使う方法が出てきたが、速度が遅いとかナントカ。
<br />
なので、2013年の今となっては、SSHプロトコルバージョン2用のRSAとして &quot;-t rsa&quot; を選択するのが無難。
<br />
</p>

<p class="paragraph">
※RSA/DSAの仕様や、それらがどうSSHプロトコルに関連するのか、SSHプロトコルの中身など自分で調べず、下記参考資料からの抜き書きでまとめてますので、正確性は保証出来ません・・・。
<br />
</p>

<p class="paragraph">
参考1(2005年以降とかわりと新しいWebページ):
<br />
</p>
<ul><li> encryption - What is the difference between DSA and RSA? - Stack Overflow<ul><li> <a class="externallink" href="http://stackoverflow.com/questions/2841094/what-is-the-difference-between-dsa-and-rsa" target="_blank">http://stackoverflow.com/questions/2841094/what-is-the-difference-between-dsa-and-rsa</a></li></ul></li>
<li> encryption - RSA vs. DSA for SSH authentication keys - IT Security Stack Exchange<ul><li> <a class="externallink" href="http://security.stackexchange.com/questions/5096/rsa-vs-dsa-for-ssh-authentication-keys" target="_blank">http://security.stackexchange.com/questions/5096/rsa-vs-dsa-for-ssh-authentication-keys</a></li></ul></li>
<li> さて、今日も勉強するか。　SSHでの暗号方式、RSAとDSAの違い　メモ<ul><li> <a class="externallink" href="http://monoknock.blog116.fc2.com/blog-entry-34.html" target="_blank">http://monoknock.blog116.fc2.com/blog-entry-34.html</a></li></ul></li>
<li> 第12回　SSHについて - Linux入門講座<ul><li> <a class="externallink" href="http://www.phppro.jp/school/linux/vol12/1" target="_blank">http://www.phppro.jp/school/linux/vol12/1</a></li></ul></li>
<li> ＤＳＡ暗号とＲＳＡ暗号 | ネットワークセキュリティのQ&amp;A【OKWave】<ul><li> <a class="externallink" href="http://okwave.jp/qa/q1806455.html" target="_blank">http://okwave.jp/qa/q1806455.html</a></li></ul></li></ul>


<p class="paragraph">
参考2(2001 - 2003年ごろのリソース):
<br />
</p>
<ul><li> Which is better RSA or DSA public key?<ul><li> <a class="externallink" href="http://www.linuxquestions.org/questions/linux-security-4/which-is-better-rsa-or-dsa-public-key-12593/" target="_blank">http://www.linuxquestions.org/questions/linux-security-4/which-is-better-rsa-or-dsa-public-key-12593/</a></li></ul></li>
<li> RSA versus DSA<ul><li> <a class="externallink" href="http://www.linuxforums.org/forum/security/3515-rsa-versus-dsa.html" target="_blank">http://www.linuxforums.org/forum/security/3515-rsa-versus-dsa.html</a></li></ul></li></ul>

<h4 id="idfe6adb">生成する秘密鍵・公開鍵のファイル名を変更したい</h4>

<p class="paragraph">
→秘密鍵のファイル名を &quot;-f&quot; で指定する。公開鍵のファイル名は指定できない（多分）。公開鍵のファイル名は、秘密鍵のファイル名の後ろに &quot;.pub&quot; が追加される。
<br />
</p>

<pre>$ ssh-keygen.exe -t rsa -f abc
-&gt; 現在ディレクトリに &quot;abc&quot;(秘密鍵), &quot;abc.pub&quot;(公開鍵)が生成される。
</pre>

<h4 id="idb58b9b">鍵ファイルのフォーマットについて</h4>

<p class="paragraph">
ssh-keygenで生成される鍵ファイル(&quot;-t rsa&quot;の場合)：
<br />
秘密鍵：(多分PKCS8かPEM形式のどちらかかと・・・)
<br />
</p>
<pre class="plugin_pre">
-----BEGIN RSA PRIVATE KEY-----
AAAAAAAAAAAAAAAAAAA....
...
AAAAAA....AAAA
-----END RSA PRIVATE KEY-----
</pre>
<p class="paragraph">
公開鍵：→そのまま、&quot;~/.ssh/authorized_keys&quot; に追加できる形式になっている。
<br />
</p>
<pre>ssh-rsa AA.....AAA user@host
</pre>

<p class="paragraph">
また、ssh-keygenの&quot;-i&quot;, &quot;-e&quot;オプションでは、読み込む鍵ファイルのフォーマットを &quot;-m&quot; オプションで &#039;RFC4716&#039;, &#039;PKCS8&#039;, &#039;PEM&#039; のどれかを指定出来ます。
<br />
</p>

<p class="paragraph">
&quot;-e&quot; : 他のSSH実装で生成された秘密鍵・公開鍵ファイルをOpenSSHのフォーマットに変換
<br />
&quot;-i&quot; : 公開鍵や、暗号化されていない秘密鍵ファイルを読み込んでOpenSSHのフォーマットに変換
<br />
</p>

<p class="paragraph">
※ただ、今の自分の知識ではどれがどう異なるのか良くわかりません・・・。特にPKCS8とPEMの違いが理解不能。
<br />
</p>

<p class="paragraph">
参考：
<br />
</p>
<ul><li> RFC 4716 - The Secure Shell (SSH) Public Key File Format<ul><li> <a class="externallink" href="http://tools.ietf.org/html/rfc4716" target="_blank">http://tools.ietf.org/html/rfc4716</a></li>
<li> <a class="externallink" href="http://www.unixuser.org/~haruyama/RFC/ssh/rfc4716.txt" target="_blank">http://www.unixuser.org/~haruyama/RFC/ssh/rfc4716.txt</a></li>
<li> SSH2の公開鍵ファイルのフォーマット。&quot;---- BEGIN SSH2 PUBLIC KEY ----&quot;で始まり、&quot;---- END SSH2 PUBLIC KEY ----&quot;で終わる、で確定。</li>
<li><strong> authorized_keys のフォーマットではない。 </strong></li></ul></li>
<li> PKCS8 : 秘密鍵ファイルのフォーマット<ul><li> <a class="externallink" href="http://www.openssl.org/docs/apps/pkcs8.html" target="_blank">http://www.openssl.org/docs/apps/pkcs8.html</a></li>
<li> <a class="externallink" href="http://tools.ietf.org/html/rfc5208" target="_blank">http://tools.ietf.org/html/rfc5208</a> : あまり具体的なファイルヘッダー・フッターの情報が見つからない・・・。中身の方の定義？</li></ul></li></ul>

<h4 id="idce6ffb">秘密鍵のパスフレーズを思い出すために入力して確認したい、あるいは秘密鍵からもう一度公開鍵(authorized_keys用)を生成したい</h4>

<p class="paragraph">
&quot;ssh-keygen -y&quot; を使うと便利です。他にもOpenSSLコマンドを使う手法もあるようです。
<br />
</p>

<pre>-y  This option will read a private OpenSSH format file and print an OpenSSH public key to stdout.
</pre>

<pre>$ ssh-keygen -y -f 秘密鍵ファイル名
Enter passphrase:(パスフレーズ入力)
→&quot;ssh-rsa AAA...AAA&quot; というように公開鍵が出力されます。
</pre>
<p class="paragraph">
authorized_keysに追加するには、さらに行末にコメントを追加しておきます。
<br />
</p>
<pre>ex: &quot;ssh-rsa AAA...AAA this_is_repaired_public_key&quot;
</pre>

<p class="paragraph">
パスフレーズを設定していない秘密鍵を指定した場合は、パスフレーズの入力なしでいきなり公開鍵が出力されます。
<br />
</p>

<p class="paragraph">
参考：
<br />
</p>
<ul><li> linux - How to verify if two strings are key pairs generated using ssh-keygen? - Stack Overflow<ul><li> <a class="externallink" href="http://stackoverflow.com/questions/8242608/how-to-verify-if-two-strings-are-key-pairs-generated-using-ssh-keygen" target="_blank">http://stackoverflow.com/questions/8242608/how-to-verify-if-two-strings-are-key-pairs-generated-using-ssh-keygen</a></li></ul></li>
<li> encryption - How do you test a public/private keypair? - Stack Overflow<ul><li> <a class="externallink" href="http://stackoverflow.com/questions/274560/how-do-you-test-a-public-private-keypair" target="_blank">http://stackoverflow.com/questions/274560/how-do-you-test-a-public-private-keypair</a></li></ul></li></ul>


<h4 id="id1f6644">秘密鍵をパスフレーズ無しにしたい、あるいはパスフレーズ無しの秘密鍵にパスフレーズを設定したい</h4>

<pre>$ ssh-keygen -p -f 秘密鍵ファイル名
</pre>

<p class="paragraph">
→新しいパスフレーズを聞かれるので、何も入力しなければパスフレーズ無しに、パスフレーズを入力すればパスフレーズ有りになります。
<br />
</p>

<p class="paragraph">
注意点：秘密鍵ファイルは<strong> 上書き保存される </strong>ため、もし不安であればバックアップをとって置くと良いでしょう。
<br />
</p>

<h3 id="idacc4e2">ホスト毎に秘密鍵を使い分けたくなったら、&quot;~/.ssh/config&quot; を活用しよう！</h3>

<p class="paragraph">
&quot;~/.ssh/config&quot;:
<br />
</p>
<pre class="plugin_pre">

# &quot;ssh myserv1&quot; == &quot;ssh -i .ssh/server1_private_key -p 2222 user01@myserv1.example.com&quot;
Host myserv1
  HostName myserv1.example.com
  Port 2222
  User user01
  IdentityFile .ssh/server1_private_key

# for GitHub ssh user
Host github.com
  HostName github.com
  User git
  IdentityFile .ssh/git_private_key
</pre>

<p class="paragraph">
参考：
<br />
</p>
<ul><li> &quot;man ssh_config&quot;</li>
<li> SSH_CONFIG (5)<ul><li> <a class="externallink" href="http://www.unixuser.org/~euske/doc/openssh/jman/ssh_config.html" target="_blank">http://www.unixuser.org/~euske/doc/openssh/jman/ssh_config.html</a></li></ul></li>
<li> .ssh/config でSSH設定を活用する方法。 - それマグで！<ul><li> <a class="externallink" href="http://takuya-1st.hatenablog.jp/entry/20110705/1309873005" target="_blank">http://takuya-1st.hatenablog.jp/entry/20110705/1309873005</a></li></ul></li>
<li> Mac で ssh config を設定した後、 「Too many authentication failures for xxxx」エラーへの対応をして、さらに鍵使用時に毎回パスフレーズを訊かれないようにする。 - modifiedの日記<ul><li> <a class="externallink" href="http://d.hatena.ne.jp/modified/20120612/1339492459" target="_blank">http://d.hatena.ne.jp/modified/20120612/1339492459</a></li></ul></li></ul>

<h3 id="ide6dfaf">AWSや実験環境で、IPアドレスやホストの鍵が頻繁に変わるような場合</h3>

<p class="paragraph">
AWSやローカルのVM環境で、IPアドレスやホストの鍵が頻繁に変わるような場合、 &quot;~/.ssh/known_hosts&quot; のホスト鍵のチェックに失敗して接続できないケースがあります。
<br />
そのような場合、意図的に known_hostsのチェックをskipしたり、known_hostsへの自動追加を無効化しておく方法があります。
<br />
もちろん、ホストのなりすましに対して弱くなってしまうので、環境によってバランスを考慮する必要はあります。
<br />
</p>

<p class="paragraph">
1. 厳密なホスト鍵チェックを無効化し、known_hostsに登録済みの既存の鍵と異なっていても接続を拒否しない。
<br />
</p>
<pre>StrictHostKeyChecking no
</pre>

<p class="paragraph">
2. ホスト鍵の追加先を/dev/nullにすることにより、自動追加を無効化。
<br />
</p>
<pre>UserKnownHostsFile /dev/null
</pre>

<p class="paragraph">
&quot;~/.ssh/config&quot; 設定例：
<br />
</p>
<pre class="plugin_pre">
Host test
  HostName 192.168.1.20
  User username
  Port 22
  StrictHostKeyChecking no
  UserKnownHostsFile /dev/null
</pre>

<p class="paragraph">
sshコマンドラインオプションでの指定例：
<br />
</p>
<pre>ssh username@192.168.1.20 -o &quot;StrictHostKeyChecking no&quot; -o &quot;UserKnownHostsFile /dev/null&quot;
</pre>

<h3 id="id4c28af">PuTTY系とOpenSSH系を併用する場合の鍵ファイルのフォーマットについて</h3>

<p class="paragraph">
PuTTY、TortoiseXXX系のツール、WinSCPなどで提供されている &quot;puttygen.exe&quot; で生成した秘密鍵・公開鍵ファイルは、OpenSSHで生成したものとはフォーマットが違うため、変換が必要です。
<br />
puttygen.exeを起動して、&quot;Conversions&quot;メニューから&quot;Import Key&quot;をクリックし、<strong> puttygen.exeで生成した秘密鍵を選択すると </strong>、秘密鍵を読み込み公開鍵情報やコメント情報を表示してくれます。その後、&quot;Conversions&quot;メニューから&quot;Export OpenSSH Key&quot;とすればOpenSSH形式の<strong> 秘密鍵ファイルに </strong>変換出来ます。
<br />
OpenSSH形式の = &quot;authorized_keys&quot;にそのまま追加出来る形式の公開鍵ファイルには変換してくれませんので、puttygen上で表示された公開鍵情報を手動でコピペすることになります。といっても、
<br />
</p>
<pre>ssh-rsa (ここにputtygenでインポートして表示された公開鍵の文字列を1行にしてコピペ) comment
</pre>
<p class="paragraph">
という形式でauthorized_keysに書き込めば終わりです。
<br />
</p>

<p class="paragraph">
なお、authorized_keysを編集する場合は、一旦保存した後、ターミナルソフトの画面幅を変えてもう一度表示して見ることをおすすめします。時々コピペした時に改行が混ざってたりして、それらの消し忘れを画面幅を変えて折り返しを変えることで確認します。
<br />
</p>


<p class="paragraph">
参考：
<br />
</p>
<ul><li> putty - How to convert SSH keypairs generated using PuttyGen(Windows) into key-pairs used by ssh-agent and KeyChain(Linux) - Stack Overflow<ul><li> <a class="externallink" href="http://stackoverflow.com/questions/2224066/how-to-convert-ssh-keypairs-generated-using-puttygenwindows-into-key-pairs-use" target="_blank">http://stackoverflow.com/questions/2224066/how-to-convert-ssh-keypairs-generated-using-puttygenwindows-into-key-pairs-use</a></li></ul></li>
<li> PuTTY FAQ<ul><li> <a class="externallink" href="http://www.chiark.greenend.org.uk/~sgtatham/putty/faq.html#faq-ssh2-keyfmt" target="_blank">http://www.chiark.greenend.org.uk/~sgtatham/putty/faq.html#faq-ssh2-keyfmt</a></li></ul></li>
<li> SSHの秘密鍵について - 禿散らかしてごめんなさい<ul><li> <a class="externallink" href="http://d.hatena.ne.jp/machua/20110809/1312899353" target="_blank">http://d.hatena.ne.jp/machua/20110809/1312899353</a></li></ul></li></ul>

<hr class="full_hr" />
<ul class="plugin_navi">
<li>[&nbsp;<a href="./view-1378.html" title="技術/Security/PKI,SSL,TLS/メモ05_OpenSSLがサポートするCipher名一覧の取得">Prev</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-1448.html" title="技術/Security/mitmproxy (Python製 HTTP/1, HTTP/2, WebSocket プロキシ) (URLメモ)">Next</a>&nbsp;]</li>
<li>[&nbsp;<a href="./view-23.html" title="技術">技術</a>&nbsp;]</li>
</ul>
</div>

<div class="data_attrs_post">
original url: https://www.glamenv-septzen.net/view/1221<br>
</div>

</div>
<!-- //data_main -->

</div>


</div>
<!-- /content-wrap end -->

<!-- footer start -->
<div id="footer">
Copyright &copy; 2001 - 2025 Masahiko Sakamoto(msakamoto-sf)<br>
License&nbsp;:&nbsp;<a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a><br>
Contact&nbsp;:&nbsp;<a target="_blank" href="https://x.com/msakamoto_sf">x(twitter)</a> / <a target="_blank" href="https://github.com/msakamoto-sf/">github</a> / <a class="maillink" target="_blank" href="mailto:&#x73;&#x61;&#x6B;&#x61;&#x6D;&#x6F;&#x74;&#x6F;&#x2E;&#x67;&#x73;&#x79;&#x63;&#x2E;&#x33;&#x73;&#x40;&#x67;&#x6D;&#x61;&#x69;&#x6C;&#x2E;&#x63;&#x6F;&#x6D;">email</a><br>
--&nbsp;Beautiful Icons&nbsp;--<br />
<a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank" title="Mark James Silk icon set 1.3">Mark James Silk icon set 1.3</a> by famfamfam<br />
<a href="http://www.pinvoke.com/" target="_blank" title="Fugue Icons">Fugue Icons</a> by Yusuke Kamiyamane<br />
</div>
<!-- /footer end -->

</div>
<!-- /body end -->

</body>
</html>